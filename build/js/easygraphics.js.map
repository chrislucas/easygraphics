{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap fdcaa81fc2739a99e743","webpack:///./src/js/core/change-listener.js","webpack:///./src/js/core/graphical-element.js","webpack:///./src/js/core/styling-attributes.js","webpack:///./src/js/svg/default-drawer.js","webpack:///./src/js/svg/general-position-change-listener.js","webpack:///./src/js/svg/general-dimension-change-listener.js","webpack:///./src/js/svg/style-change-listener.js","webpack:///./src/js/core/util.js","webpack:///./src/js/core/bounding-box.js","webpack:///./src/js/svg/look-and-feel.js","webpack:///./src/js/core/rectangle.js","webpack:///./src/js/core/vertical-group.js","webpack:///./src/js/core/group-styling-attributes.js","webpack:///./src/js/core/box-vertices-decorator.js","webpack:///./src/js/core/circle.js","webpack:///./src/js/core/ellipse.js","webpack:///./src/js/core/diamond.js","webpack:///./src/js/core/text.js","webpack:///./src/js/core/font-styling-attributes.js","webpack:///./src/js/core/line.js","webpack:///./src/js/core/polyline.js","webpack:///./src/js/core/image.js","webpack:///./src/js/core/linear-group.js","webpack:///./src/js/svg/general-rotation-change-listener.js","webpack:///./src/js/core/point.js","webpack:///./src/js/core/vertical-group-child-change-listener.js","webpack:///./src/js/core/box-vertices-decorator-decorated-position-change-listener.js","webpack:///./src/js/core/box-vertices-decorator-decorated-rotation-change-listener.js","webpack:///./src/js/core/box-vertices-decorator-decorated-dimension-change-listener.js","webpack:///./src/js/core/layer.js","webpack:///./src/js/core/area-defaults.js","webpack:///./src/js/svg/rectangle-position-change-listener.js","webpack:///./src/js/svg/diamond-position-change-listener.js","webpack:///./src/js/svg/ellipse-position-change-listener.js","webpack:///./src/js/svg/image-position-change-listener.js","webpack:///./src/js/svg/text-position-change-listener.js","webpack:///./src/js/svg/line-position-change-listener.js","webpack:///./src/js/svg/polyline-position-change-listener.js","webpack:///./src/js/svg/circle-position-change-listener.js","webpack:///./src/js/svg/rectangle-dimension-change-listener.js","webpack:///./src/js/svg/diamond-dimension-change-listener.js","webpack:///./src/js/svg/ellipse-dimension-change-listener.js","webpack:///./src/js/svg/image-dimension-change-listener.js","webpack:///./src/js/svg/text-dimension-change-listener.js","webpack:///./src/js/svg/circle-dimension-change-listener.js","webpack:///./src/js/svg/line-dimension-change-listener.js","webpack:///./src/js/svg/polyline-dimension-change-listener.js","webpack:///./src/js/svg/vgroup-rotation-change-listener.js","webpack:///./src/js/svg/linear-group-rotation-change-listener.js","webpack:///./src/js/svg/text-change-listener.js","webpack:///./src/js/svg/font-change-listener.js","webpack:///./src/js/svg/default-look-and-feel-factory.js","webpack:///./src/js/svg/default-circle-drawer.js","webpack:///./src/js/svg/default-ellipse-drawer.js","webpack:///./src/js/svg/default-rectangle-drawer.js","webpack:///./src/js/svg/default-diamond-drawer.js","webpack:///./src/js/svg/default-text-drawer.js","webpack:///./src/js/svg/default-vertical-group-drawer.js","webpack:///./src/js/svg/default-linear-group-drawer.js","webpack:///./src/js/svg/default-line-drawer.js","webpack:///./src/js/svg/default-image-drawer.js","webpack:///./src/js/svg/default-polyline-drawer.js","webpack:///./src/js/svg/default-box-vertices-decorator-drawer.js","webpack:///./src/js/svg/box-vertices-decorator-change-listener.js","webpack:///./src/js/svg/svg-area.js","webpack:///./app.js","webpack:///./src/js/core/graphical-element-decorator.js","webpack:///./src/js/core/area.js"],"names":["ChangeListener","_types","arguments","target","targetType","indexOf","i","length","j","value","GraphicalElement","argumentsObject","_x","x","_y","y","_minWidth","_width","width","_minHeight","_height","height","_stylingAttributes","stylingAttributes","_id","id","_drawn","_changeListeners","_changeNotificationsEnabled","_rotation","_rotationCenterX","_rotationCenterY","_tag","_tags","_onClick","_onDblClick","_onMouseDown","_onMouseMove","_onMouseUp","_preserveAspectRatio","preserveAspectRatio","key","push","Object","keys","givenY","x2","newX","newY","disableChangeNotifications","enableChangeNotifications","newWidth","newHeight","json","fromJSON","notifyListeners","STYLING","boundingBox","hasAnyType","splice","changeNotificationsEnabled","changeListeners","listener","update","event","clientX","clientY","delta","rotationCenterX","POSITION","rotationCenterY","minWidth","relation","DIMENSION","minHeight","ROTATION","temp","strokeWidth","StylingAttributes","strokeColor","fillColor","strokeDashArray","_strokeWidth","_strokeColor","_fillColor","_target","_strokeDashArray","fill","stroke","style","notifyTarget","DefaultDrawer","svgArea","_svgArea","GeneralPositionChangeListener","changeX","changeY","drawn","setAttribute","GeneralDimensionChangeListener","changeWidth","changeHeight","StyleChangeListener","assign","toJSON","angleBetween2Lines","angleBetween2Vectors","toRadians","toDegrees","validateArgumentsObject","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","angle1","Math","atan2","angle2","abs","lengthV1","sqrt","lengthV2","scalarProduct","cosine","angle","acos","degrees","PI","radians","Array","prototype","slice","call","defaultValue","BoundingBox","x1","y1","y2","_x1","_y1","_x2","_y2","lookAndFeelSingleton","LookAndFeel","lookAndFeelFactory","_lookAndFeelFactory","element","getDrawerFor","Rectangle","rectangleStylingAttributes","border","borderSize","boundingBoxWidth","boundingBoxHeight","VerticalGroup","verticalGroupX","verticalGroupY","verticalGroupStylingAttributes","groupStylingAttributes","_groupStylingAttributes","_children","_resizePolicy","_gravity","_weight","_overlap","_frame","_dimensionReadjustmentEnabled","_fitContent","availableWidthForChildren","rightXLimit","bottomYLimit","frame","contentBox","contentHeight","countChildren","verMargin","children","child","overlap","heightLeft","weightSum","weight","deltaHeight","deltaY","resizePolicy","WRAP_CONTENT","gravity","LEFT","horMargin","RIGHT","FILL_SPACE","MATCH_CONTENT_AREA","MATCH_PARENT","boundaryX1","boundaryX1For","boundaryX2","boundaryX2For","dimensionReadjustmentEnabled","fitContent","disableDimensionReadjustment","childRequiredHeight","increaseHeightBy","requiredGroupWidth","widthToFit","appendChild","addChangeListener","adjustChildrenPositionAndDimension","enableDimensionReadjustment","readjustDimensions","minimumRequiredWidth","minContentWidth","calcMinWidth","getChildAt","frameWidth","minimumRequiredHeight","contentMinHeight","calcMinHeight","minContentHeight","frameHeight","heightToFit","add","GroupStylingAttributes","_horMargin","_verMargin","BoxVerticesDecorator","decorated","topLeft","topRight","bottomLeft","bottomRight","vertexSize","addTag","BOX_VERTICES_TAG","_decorated","_topLeft","_topRight","_bottomLeft","_bottomRight","_topLeftVertex","_topRightVertex","_bottomLeftVertex","_bottomRightVertex","_onVertexClick","_onVertexDblClick","_onVertexMouseDown","_onVertexMouseMove","_onVertexMouseUp","_vertexSize","Circle","centerX","centerY","radius","circleStylingAttributes","eqa","eqb","eqc","pow","sqrtDelta","ratio","squaredRadius","halfWidth","halfHeight","deltaX","diameter","Ellipse","radiusX","radiusY","ellipseStylingAttributes","ellipsePreserveAspectRatio","a","b","h","k","sqrt2","rectHeight","rectWidth","Diamond","diamondPreserveAspectRatio","diamondStylingAttributes","middleY","middleX","Text","textX","textY","text","textStylingAttributes","fontStylingAttributes","_text","_fontStylingAttributes","OTHER","FontStylingAttributes","family","size","_family","_size","_style","Line","lineStylingAttributes","PolyLine","polyLineStylingAttributes","_idCount","_points","coordinates","from","isArray","addPoint","updateBoundingBox","generateId","position","countPoints","point","removePointAt","minX","Number","MAX_SAFE_INTEGER","minY","maxX","MIN_SAFE_INTEGER","maxY","points","findBoundingBox","Image","imageX","imageY","imageWidth","imageHeight","image","undefined","imageStylingAttributes","_image","_boundingBoxFunction","defaultBoundingBox","_widthToFitFunction","defaultWidthToFit","_heightToFitFunction","defaultHeightToFit","boundingBoxFunction","widthToFitFunction","heightToFitFunction","LinearGroup","linearGroupStylingAttributes","_verticalGroup","verticalGroup","addChild","CENTER","recalculate","lineHeight","groupX","min","groupY","rotation","GeneralRotationChangeListener","Point","cos","sin","VerticalGroupChildChangeListener","vgroup","_vgroup","BoxVerticesDecoratorDecoratedPositionChangeListener","decorator","_decorator","BoxVerticesDecoratorDecoratedRotationChangeListener","BoxVerticesDecoratorDecoratedDimensionChangeListener","halfSize","topRightVertex","bottomLeftVertex","bottomRightVertex","Layer","visible","_visible","_elements","_onChangeVisibility","_onAddElement","_onRemoveElement","notifyElementAddition","notifyElementRemoval","oldValue","newValue","onChangeVisibility","addedElement","onAddElement","removedElement","onRemoveElement","notifyVisibilityChange","AreaDefaults","_layers","_layerStack","_elementIdCount","_layerIdCount","_onAddLayer","_onRemoveLayer","_onChangeLayerOrder","newLayer","layer","layerPosition","map","o","notifyLayerOrderChanging","targetPosition","addLayer","generateLayerId","notifyLayerAddition","notifyLayerRemoval","addedLayer","onAddLayer","removedLayer","onRemoveLayer","onChangeLayerOrder","result","countLayers","getLayerAt","RectanglePositionChangeListener","DiamondPositionChangeListener","updateCoordinates","adjustment","EllipsePositionChangeListener","ImagePositionChangeListener","TextPositionChangeListener","LinePositionChangeListener","PolyLinePositionChangeListener","path","substring","CirclePositionChangeListener","RectangleDimensionChangeListener","DiamondDimensionChangeListener","EllipseDimensionChangeListener","ImageDimensionChangeListener","TextDimensionChangeListener","CircleDimensionChangeListener","LineDimensionChangeListener","PolyLineDimensionChangeListener","VGroupRotationChangeListener","LinearGroupRotationChangeListener","TextChangeListener","textContent","getBoundingClientRect","FontChangeListener","DefaultLookAndFeelFactory","getPrototypeOf","DefaultCircleDrawer","newCircle","document","createElementNS","namespace","toString","DefaultEllipseDrawer","newEllipse","DefaultRectangleDrawer","newRectangle","DefaultDiamondDrawer","newDiamond","DefaultTextDrawer","newText","textNode","createTextNode","DefaultVerticalGroupDrawer","newGroup","lookAndFeel","drawer","drawnFrame","draw","DefaultLinearGroupDrawer","DefaultLineDrawer","newLine","DefaultImageDrawer","newImage","setAttributeNS","DefaultPolyLineDrawer","newPath","generatePath","polyLine","DefaultBoxVerticesDecoratorDrawer","removeChangeListenerByType","vertexTL","tag","TOP_LEFT","VERTEX","PARENT","drawerTL","drawnChildTL","registerEvents","topLeftVertex","vertexTR","TOP_RIGHT","drawerTR","drawnChildTR","vertexBL","BOTTOM_LEFT","drawerBL","drawnChildBL","vertexBR","BOTTOM_RIGHT","drawerBR","drawnChildBR","model","onclick","fireOnClick","bind","onClick","dispathOnVertexClick","ondblclick","fireOnDblClick","onDblClick","dispathOnVertexDblClick","onmousedown","fireOnMouseDown","onMouseDown","dispathOnVertexMouseDown","onmousemove","fireOnMouseMove","onMouseMove","dispathOnVertexMouseMove","onmouseup","fireOnMouseUp","onMouseUp","dispathOnVertexMouseUp","BoxVerticesDecoratorChangeListener","SVGArea","svgSelector","_svg","querySelector","_namespace","handleLayerVisibilityChange","elements","forEach","getElement","firstLayer","LAYER","addElement","getTag","removeElement","svg","removeChild","topLayer","generateElementId","drawnCircle","parameterObject","circ","drawnEllipse","drawnRectangle","rect","drawnDiamond","drawnText","txt","drawnImage","img","newVGroup","drawnVGroup","vGroup","newLinearGroup","drawnLinearGroup","lGroup","drawnLine","pairOfCoordinates","newPolyline","newBoxVerticesDecorator","drawnBoxVerticesDecorator","Area","GraphicalElementDecorator","moveLayerTo","resize","appearance","countTags","getTagsKeys","removeTag","selector","name","tagName","toLowerCase"],"mappings":"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","file":"easygraphics.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"easygraphics\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easygraphics\"] = factory();\n\telse\n\t\troot[\"easygraphics\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 65);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fdcaa81fc2739a99e743","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * This class implements a listener for changes in graphical elements.\r\n */\r\nexport default class ChangeListener {\r\n\r\n    constructor() {\r\n        this._types = arguments;\r\n    }\r\n\r\n    static get DIMENSION() {\r\n        return \"dimension\";\r\n    }\r\n\r\n    static get POSITION() {\r\n        return \"position\";\r\n    }\r\n\r\n    static get ROTATION() {\r\n        return \"rotation\";\r\n    }\r\n\r\n    static get STYLING() {\r\n        return \"styling\";\r\n    }\r\n\r\n    static get OTHER() {\r\n        return \"other\";\r\n    }\r\n\r\n    get types() {\r\n        return this._types;\r\n    }\r\n\r\n    set types(value) {\r\n        this._types = arguments;\r\n    }\r\n\r\n    update(target) {\r\n        // Update.\r\n    }\r\n\r\n    hasType(targetType) {\r\n        return this._types.indexOf(targetType) >= 0;\r\n    }\r\n\r\n    hasAnyType() {\r\n        for (let i = 0; i < this._types.length; i++) {\r\n            for (let j = 0; j < arguments.length; j++) {\r\n                if (this._types[i] === arguments[j]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport StylingAttributes from './styling-attributes.js';\r\nimport ChangeListener from \"./change-listener\";\r\nimport {notifyListeners, validateArgumentsObject} from \"./util\";\r\n\r\n/**\r\n * This class implements the default behaviour of graphical elements.\r\n * It is the base class for all graphical elements.\r\n */\r\nexport default class GraphicalElement {\r\n\r\n    //constructor(x = 0, y = 0, width = 7, height = 7, stylingAttributes = new StylingAttributes(), id = -1, preserveAspectRatio = false) {\r\n    constructor(argumentsObject) {\r\n        if (!argumentsObject || argumentsObject === null) {\r\n            argumentsObject = {};\r\n        }\r\n        validateArgumentsObject(argumentsObject, 'id', -1);\r\n        validateArgumentsObject(argumentsObject, 'x', 0);\r\n        validateArgumentsObject(argumentsObject, 'y', 0);\r\n        validateArgumentsObject(argumentsObject, 'width', 0);\r\n        validateArgumentsObject(argumentsObject, 'height', 0);\r\n        validateArgumentsObject(argumentsObject, 'stylingAttributes', function () {\r\n            return new StylingAttributes();\r\n        });\r\n        validateArgumentsObject(argumentsObject, 'preserveAspectRatio', false);\r\n\r\n        this._x = argumentsObject.x;\r\n        this._y = argumentsObject.y;\r\n        this._minWidth = 1;\r\n        this._width = argumentsObject.width;\r\n        this._minHeight = 1;\r\n        this._height = argumentsObject.height;\r\n        this._stylingAttributes = argumentsObject.stylingAttributes;\r\n        this._stylingAttributes.target = this; // Bidirectional navigation.\r\n        this._id = argumentsObject.id;\r\n        this._drawn = null; // A reference to the shape drawn on a drawing area (in case of svg, for example).\r\n        this._changeListeners = []; // A graphical element may have many change listeners.\r\n        this._changeNotificationsEnabled = 0; // Must listeners be notified about changes?\r\n                                              // 0 means yes.\r\n                                              // Any value greater than 0 means a recursive call to\r\n                                              // disable change notifications.\r\n        this._rotation = 0; // Rotation angle in degrees.\r\n        this._rotationCenterX = argumentsObject.x + argumentsObject.width / 2; // The rotation reference point x-coordinate.\r\n        this._rotationCenterY = argumentsObject.y + argumentsObject.height / 2; // The rotation reference point y-coordinate.\r\n        this._tag = null; // Additional information about the graphical element.\r\n        // Define a new object to store additional information.\r\n        // It works like a map, but with complexity on search of O(1).\r\n        // The key works as the tag name.\r\n        this._tags = {};\r\n\r\n        // Events' callback functions.\r\n        // The functions receive four attributes: the element in which the event occurred,\r\n        // the mouse x-coordinate, the mouse y-coordinate, and the event object.\r\n        this._onClick = null;\r\n        this._onDblClick = null;\r\n        this._onMouseDown = null;\r\n        this._onMouseMove = null;\r\n        this._onMouseUp = null;\r\n\r\n        this._preserveAspectRatio = argumentsObject.preserveAspectRatio;\r\n    }\r\n\r\n    static get PARENT() {\r\n        return \"parent\";\r\n    }\r\n\r\n    get preserveAspectRatio() {\r\n        return this._preserveAspectRatio;\r\n    }\r\n\r\n    set preserveAspectRatio(value) {\r\n        this._preserveAspectRatio = value;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        let delta = value - this._x;\r\n        this._x = value;\r\n        // Adjust the rotation center based on its current value and the variation of x.\r\n        this.rotationCenterX += delta;\r\n        this.notifyListeners(ChangeListener.POSITION);\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        let delta = value - this._y;\r\n        this._y = value;\r\n        // Adjust the rotation center based on its current value and the variation of y.\r\n        this.rotationCenterY += delta;\r\n        this.notifyListeners(ChangeListener.POSITION);\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        if (value >= this.minWidth) {\r\n            let relation = this.height / this.width;\r\n            let delta = value - this._width;\r\n            this._width = value;\r\n            this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n            // Adjust the rotation center based on its current value and the variation of width.\r\n            this.rotationCenterX += delta;\r\n            // Preserve the aspect ratio?\r\n            if (this.preserveAspectRatio) {\r\n                this.preserveAspectRatio = false; // Necessary to avoid recursive calls.\r\n                this.height = value * relation;\r\n                this.preserveAspectRatio = true;\r\n            }\r\n            this.enableChangeNotifications();\r\n            this.notifyListeners(ChangeListener.DIMENSION);\r\n        }\r\n    }\r\n\r\n    get minWidth() {\r\n        return this._minWidth;\r\n    }\r\n\r\n    set minWidth(value) {\r\n        this._minWidth = value;\r\n        if (this.width < this.minWidth) {\r\n            this.width = this.minWidth; // If the width changes, listeners will be notified.\r\n        }\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        if (value >= this.minHeight) {\r\n            let relation = this.width / this.height;\r\n            let delta = value - this._height;\r\n            this._height = value;\r\n            this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n            // Adjust the rotation center based on its current value and the variation of height.\r\n            this.rotationCenterX += delta;\r\n            this.rotationCenterY = this.y + this.height / 2;\r\n            // Preserve the aspect ratio?\r\n            if (this.preserveAspectRatio) {\r\n                this.preserveAspectRatio = false; // Necessary to avoid recursive calls.\r\n                this.width = value * relation;\r\n                this.preserveAspectRatio = true;\r\n            }\r\n            this.enableChangeNotifications();\r\n            this.notifyListeners(ChangeListener.DIMENSION);\r\n        }\r\n    }\r\n\r\n    get minHeight() {\r\n        return this._minHeight;\r\n    }\r\n\r\n    set minHeight(value) {\r\n        this._minHeight = value;\r\n        if (this.height < this.minHeight) {\r\n            this.height = this.minHeight; // If the height changes, listeners will be notified.\r\n        }\r\n    }\r\n\r\n    get rotation() {\r\n        return this._rotation;\r\n    }\r\n\r\n    set rotation(value) {\r\n        this._rotation = value;\r\n        this.notifyListeners(ChangeListener.ROTATION);\r\n    }\r\n\r\n    get rotationCenterX() {\r\n        return this._rotationCenterX;\r\n    }\r\n\r\n    set rotationCenterX(value) {\r\n        this._rotationCenterX = value;\r\n        this.notifyListeners(ChangeListener.ROTATION);\r\n    }\r\n\r\n    get rotationCenterY() {\r\n        return this._rotationCenterY;\r\n    }\r\n\r\n    set rotationCenterY(value) {\r\n        this._rotationCenterY = value;\r\n        this.notifyListeners(ChangeListener.ROTATION);\r\n    }\r\n\r\n    get x2() {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    set x2(value) {\r\n        if (value < this.x) {\r\n            // Invert x1 and x2.\r\n            let temp = this.x;\r\n            this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n            this.x = value;\r\n            this.enableChangeNotifications();\r\n            this.width += temp - this.x;\r\n        } else {\r\n            this.width = value - this.x;\r\n        }\r\n    }\r\n\r\n    get y2() {\r\n        return this.y + this.height;\r\n    }\r\n\r\n    set y2(value) {\r\n        if (value < this.y) {\r\n            // Invert y1 and y2.\r\n            let temp = this.y;\r\n            this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n            this.y = value;\r\n            this.enableChangeNotifications();\r\n            this.height += temp - this.y;\r\n        } else {\r\n            this.height = value - this.y;\r\n        }\r\n    }\r\n\r\n    get stylingAttributes() {\r\n        return this._stylingAttributes;\r\n    }\r\n\r\n    set stylingAttributes(value) {\r\n        this._stylingAttributes = value;\r\n        value.target = this;\r\n        this.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    get borderSize() {\r\n        if (this.stylingAttributes !== null) {\r\n            return this.stylingAttributes.strokeWidth / 2;\r\n        }\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    set id(value) {\r\n        this._id = value;\r\n    }\r\n\r\n    get drawn() {\r\n        return this._drawn;\r\n    }\r\n\r\n    set drawn(value) {\r\n        this._drawn = value;\r\n    }\r\n\r\n    get changeListeners() {\r\n        return this._changeListeners;\r\n    }\r\n\r\n    set changeListeners(value) {\r\n        this._changeListeners = value;\r\n    }\r\n\r\n    get onClick() {\r\n        return this._onClick;\r\n    }\r\n\r\n    set onClick(value) {\r\n        this._onClick = value;\r\n    }\r\n\r\n    get onDblClick() {\r\n        return this._onDblClick;\r\n    }\r\n\r\n    set onDblClick(value) {\r\n        this._onDblClick = value;\r\n    }\r\n\r\n    get onMouseDown() {\r\n        return this._onMouseDown;\r\n    }\r\n\r\n    set onMouseDown(value) {\r\n        this._onMouseDown = value;\r\n    }\r\n\r\n    get onMouseMove() {\r\n        return this._onMouseMove;\r\n    }\r\n\r\n    set onMouseMove(value) {\r\n        this._onMouseMove = value;\r\n    }\r\n\r\n    get onMouseUp() {\r\n        return this._onMouseUp;\r\n    }\r\n\r\n    set onMouseUp(value) {\r\n        this._onMouseUp = value;\r\n    }\r\n\r\n    get tag() {\r\n        return this._tag;\r\n    }\r\n\r\n    set tag(value) {\r\n        this._tag = value;\r\n    }\r\n\r\n    get changeNotificationsEnabled() {\r\n        return this._changeNotificationsEnabled === 0;\r\n    }\r\n\r\n    addTag(key, value) {\r\n        // If does not exist a tag with the same key, add it.\r\n        if (key in this._tags) {\r\n            this._tags[key].push(value);\r\n        }\r\n        this._tags[key] = value;\r\n        return true;\r\n    }\r\n\r\n    countTags() {\r\n        return Object.keys(this._tags).length;\r\n    }\r\n\r\n    getTag(key) {\r\n        return this._tags[key];\r\n    }\r\n\r\n    getTagsKeys() {\r\n        return Object.keys(this._tags);\r\n    }\r\n\r\n    removeTag(key) {\r\n        delete this._tags[key];\r\n    }\r\n\r\n    disableChangeNotifications() {\r\n        //this.changeNotificationsEnabled = false;\r\n        this._changeNotificationsEnabled++;\r\n    }\r\n\r\n    enableChangeNotifications() {\r\n        //this.changeNotificationsEnabled = true;\r\n        this._changeNotificationsEnabled--;\r\n    }\r\n\r\n    /**\r\n     * Returns the minimum value of X that stays inside the geometric shape for\r\n     * the specified y value.\r\n     * @param givenY The y value.\r\n     */\r\n    boundaryX1For(givenY) {\r\n        return this.x; // Assume, by default, a rectangular shape.\r\n    }\r\n\r\n    /**\r\n     * Returns the maximum value of X that stays inside the geometric shape for\r\n     * the specified y value.\r\n     * @param givenY The y value.\r\n     */\r\n    boundaryX2For(givenY) {\r\n        return this.x2; // Assume, by default, a rectangular shape.\r\n    }\r\n\r\n    moveTo(newX, newY) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        this.x = newX;\r\n        this.enableChangeNotifications();\r\n        this.y = newY;\r\n    }\r\n\r\n    resize(newWidth, newHeight) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        this.width = newWidth;\r\n        this.enableChangeNotifications();\r\n        this.height = newHeight;\r\n    }\r\n\r\n    appearance(json) {\r\n        this.stylingAttributes.fromJSON(json);\r\n        this.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    /**\r\n     * Returns a bounding box for the geometric shape content.\r\n     * @returns A bounding box for the geometric shape content.\r\n     */\r\n    contentBox(width, height) {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Returns the minimum width to fit the specified bounding box as its content.\r\n     * @param boundingBox The content bounding box.\r\n     * @returns The minimum width to fit the specified bounding box as its content.\r\n     */\r\n    widthToFit(boundingBox) {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Returns the minimum height to fit the specified bounding box as its content.\r\n     * @param boundingBox The content bounding box.\r\n     * @returns The minimum height to fit the specified bounding box as its content.\r\n     */\r\n    heightToFit(boundingBox) {\r\n        return null;\r\n    }\r\n\r\n    addChangeListener(value) {\r\n        this._changeListeners.push(value);\r\n    }\r\n\r\n    removeChangeListenerByType() {\r\n        if (this._changeListeners) {\r\n            for (let i = 0; i < this._changeListeners.length; i++) {\r\n                if (this._changeListeners[i].hasAnyType(...arguments)) {\r\n                    this._changeListeners.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    notifyListeners() {\r\n        if (!this.changeNotificationsEnabled) {\r\n            return;\r\n        }\r\n        for (let listener of this.changeListeners) {\r\n            if (listener.hasAnyType(...arguments)) {\r\n                listener.update(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Events.\r\n    fireOnClick(event) {\r\n        notifyListeners(this._onClick, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnDblClick(event) {\r\n        notifyListeners(this._onDblClick, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseDown(event) {\r\n        notifyListeners(this._onMouseDown, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseMove(event) {\r\n        notifyListeners(this._onMouseMove, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseUp(event) {\r\n        notifyListeners(this._onMouseUp, this, event.clientX, event.clientY, event);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/graphical-element.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from \"./change-listener\";\r\n\r\nexport default class StylingAttributes {\r\n\r\n    constructor(strokeWidth = 3, strokeColor = 'black', fillColor = '#FFFFCC', strokeDashArray = null, target = null) {\r\n        this._strokeWidth = strokeWidth;\r\n        this._strokeColor = strokeColor;\r\n        this._fillColor = fillColor;\r\n        this._target = target;\r\n        this._strokeDashArray = strokeDashArray;\r\n        //this._visible = true;\r\n    }\r\n\r\n/*\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(value) {\r\n        this._visible = value;\r\n        this.notifyTarget();\r\n    }\r\n*/\r\n\r\n    get strokeWidth() {\r\n        return this._strokeWidth;\r\n    }\r\n\r\n    set strokeWidth(value) {\r\n        this._strokeWidth = value;\r\n        this.notifyTarget();\r\n    }\r\n\r\n    get strokeColor() {\r\n        return this._strokeColor;\r\n    }\r\n\r\n    set strokeColor(value) {\r\n        this._strokeColor = value;\r\n        this.notifyTarget();\r\n    }\r\n\r\n    get fillColor() {\r\n        return this._fillColor;\r\n    }\r\n\r\n    set fillColor(value) {\r\n        this._fillColor = value;\r\n        this.notifyTarget();\r\n    }\r\n\r\n    get strokeDashArray() {\r\n        return this._strokeDashArray;\r\n    }\r\n\r\n    set strokeDashArray(value) {\r\n        this._strokeDashArray = value;\r\n    }\r\n\r\n    get target() {\r\n        return this._target;\r\n    }\r\n\r\n    set target(value) {\r\n        this._target = value;\r\n    }\r\n\r\n    fromJSON(json) {\r\n        this.fillColor = json.fill;\r\n        this.strokeColor = json.stroke;\r\n        this.strokeWidth = json.strokeWidth;\r\n    }\r\n\r\n    toJSON() {\r\n        //let visibilityValue = this.visible ? \"visible\" : \"hidden\";\r\n        return {\r\n            fill: this.fillColor,\r\n            stroke: this.strokeColor,\r\n            strokeWidth: this.strokeWidth\r\n        };\r\n        // visibility: visibilityValue\r\n    }\r\n\r\n    toString() {\r\n        let style = \"stroke:\" + this.strokeColor + \"; fill: \" + this.fillColor + \"; stroke-width: \" + this.strokeWidth + \";\";\r\n        if (this.strokeDashArray !== null) {\r\n            style += \" stroke-dasharray: \" + this.strokeDashArray + \";\";\r\n        }\r\n        style += \"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;\";\r\n        return style;\r\n    }\r\n\r\n    notifyTarget() {\r\n        if (this.target !== null) {\r\n            this.target.notifyListeners(ChangeListener.STYLING);\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/styling-attributes.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nexport default class DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        this._svgArea = svgArea;\r\n    }\r\n\r\n    get svgArea() {\r\n        return this._svgArea;\r\n    }\r\n\r\n    set svgArea(value) {\r\n        this._svgArea = value;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-drawer.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class GeneralPositionChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.POSITION);\r\n    }\r\n\r\n    update(target) {\r\n        this.changeX(target);\r\n        this.changeY(target);\r\n    }\r\n\r\n    changeX(target) {\r\n        target.drawn.setAttribute(\"x\", target.x);\r\n    }\r\n\r\n    changeY(target) {\r\n        target.drawn.setAttribute(\"y\", target.y);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/general-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class GeneralDimensionChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.DIMENSION);\r\n    }\r\n\r\n    update(target) {\r\n        this.changeWidth(target);\r\n        this.changeHeight(target);\r\n    }\r\n\r\n    changeWidth(target) {\r\n        target.drawn.setAttribute(\"width\", target.width);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        target.drawn.setAttribute(\"height\", target.height);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/general-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class StyleChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.STYLING);\r\n    }\r\n\r\n    update(target) {\r\n        Object.assign(target.drawn.style, target.stylingAttributes.toJSON());\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/style-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 03/07/2017.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * This method returns the angle in degrees between two lines.\r\n * @param ax1 The first line x1 coordinate.\r\n * @param ay1 The first line y1 coordinate.\r\n * @param ax2 The first line x2 coordinate.\r\n * @param ay2 The first line y2 coordinate.\r\n * @param bx1 The second line x1 coordinate.\r\n * @param by1 The second line y1 coordinate.\r\n * @param bx2 The second line x2 coordinate.\r\n * @param by2 The second line y2 coordinate.\r\n * @returns {number} The angle in degrees between the two lines.\r\n */\r\nexport function angleBetween2Lines(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\r\n    let angle1 = Math.atan2(ay1 - ay2, ax1 - ax2);\r\n    let angle2 = Math.atan2(by1 - by2, bx1 - bx2);\r\n    return toDegrees(Math.abs(angle1) - Math.abs(angle2));\r\n}\r\n\r\n/**\r\n * This method calculates the angle in degrees between two vectors with origin at (0, 0).\r\n * @param ax2 The x-coordinate of the second point (1st vector).\r\n * @param ay2 The y-coordinate of the second point (1st vector).\r\n * @param bx2 The x-coordinate of the second point (2nd vector).\r\n * @param by2 The y-coordinate of the second point (2nd vector).\r\n * @returns {number} The angle between the two vectors in degrees.\r\n */\r\nexport function angleBetween2Vectors(ax2, ay2, bx2, by2) {\r\n    // See http://www.wikihow.com/Find-the-Angle-Between-Two-Vectors\r\n\r\n    // Convert y cartesian coordinate to y drawing coordinate.\r\n    ay2 *= -1;\r\n    by2 *= -1;\r\n\r\n    // Calculate the length of each vector.\r\n    let lengthV1 = Math.sqrt(ax2 * ax2 + ay2 * ay2);\r\n    let lengthV2 = Math.sqrt(bx2 * bx2 + by2 * by2);\r\n\r\n    // Calculate the scalar product of the two vectors.\r\n    let scalarProduct = ax2 * bx2 + ay2 * by2;\r\n\r\n    // Calculate the cosine of the angle between the two vectors.\r\n    let cosine = scalarProduct / (lengthV1 * lengthV2);\r\n\r\n    // Find the angle based on the arccosine.\r\n    let angle = Math.acos(cosine);\r\n    return toDegrees(angle);\r\n}\r\n\r\n// Converts from degrees to radians.\r\nexport function toRadians(degrees) {\r\n    return degrees * Math.PI / 180;\r\n}\r\n\r\n// Converts from radians to degrees.\r\nexport function toDegrees(radians) {\r\n    return radians * 180 / Math.PI;\r\n}\r\n\r\nexport function notifyListeners(listener, target) {\r\n    if (listener !== null && listener) {\r\n        if (typeof(listener) === \"function\") {\r\n            listener(target, ...Array.prototype.slice.call(arguments, 2));\r\n        } else {\r\n            throw \"Callback is not a function: \" + typeof(listener);\r\n        }\r\n    }\r\n}\r\n\r\nexport function validateArgumentsObject(argumentsObject, key, defaultValue) {\r\n    if (!(key in argumentsObject)) {\r\n        if (typeof(defaultValue) === 'function') {\r\n            argumentsObject[key] = defaultValue();\r\n        } else {\r\n            argumentsObject[key] = defaultValue;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/util.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * This class implements a bounding box.\r\n */\r\nexport default class BoundingBox {\r\n\r\n    constructor(x1 = 0, y1 = 0, x2 = 100, y2 = 100) {\r\n        this._x1 = x1;\r\n        this._y1 = y1;\r\n        this._x2 = x2;\r\n        this._y2 = y2;\r\n    }\r\n\r\n    get x1() {\r\n        return this._x1;\r\n    }\r\n\r\n    set x1(value) {\r\n        this._x1 = value;\r\n    }\r\n\r\n    get y1() {\r\n        return this._y1;\r\n    }\r\n\r\n    set y1(value) {\r\n        this._y1 = value;\r\n    }\r\n\r\n    get x2() {\r\n        return this._x2;\r\n    }\r\n\r\n    set x2(value) {\r\n        this._x2 = value;\r\n    }\r\n\r\n    get y2() {\r\n        return this._y2;\r\n    }\r\n\r\n    set y2(value) {\r\n        this._y2 = value;\r\n    }\r\n\r\n    get width() {\r\n        return Math.abs(this.x2 - this.x1);\r\n    }\r\n\r\n    get height() {\r\n        return Math.abs(this.y2 - this.y1);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/bounding-box.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nlet lookAndFeelSingleton = null;\r\n\r\nimport DefaultLookAndFeelFactory from './default-look-and-feel-factory.js';\r\n\r\n/**\r\n * This class implements a singleton that contains a factory created to return\r\n * drawers for geometric elements based on a specific look and feel.\r\n * If no look and feel factory is passed as an argument, a default one is adopted.\r\n */\r\nexport default class LookAndFeel {\r\n\r\n    constructor(lookAndFeelFactory = new DefaultLookAndFeelFactory()) {\r\n        if (!lookAndFeelSingleton) {\r\n            lookAndFeelSingleton = this;\r\n\r\n            this._lookAndFeelFactory = lookAndFeelFactory;\r\n        }\r\n\r\n        return lookAndFeelSingleton;\r\n    }\r\n\r\n    get lookAndFeelFactory() {\r\n        return this._lookAndFeelFactory;\r\n    }\r\n\r\n    set lookAndFeelFactory(value) {\r\n        this._lookAndFeelFactory = value;\r\n    }\r\n\r\n    getDrawerFor(element) {\r\n        return this._lookAndFeelFactory.getDrawerFor(element);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/look-and-feel.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\n\r\n/**\r\n * This class implements rectangles.\r\n */\r\nexport default class Rectangle extends GraphicalElement {\r\n\r\n    constructor(x1 = 0, y1 = 0, x2 = 0, y2 = 0, rectangleStylingAttributes = new StylingAttributes()) {\r\n        super({x: x1, y: y1, width: x2 - x1, height: y2 - y1, stylingAttributes: rectangleStylingAttributes});\r\n    }\r\n\r\n    contentBox(width, height) { // For rectangles, it does not matter the current width/height of a group they may be a frame of.\r\n        let border = this.borderSize;\r\n        let boundingBox = new BoundingBox(this.x + border, this.y + border, this.x + this.width - border, this.y + this.height - border);\r\n        return boundingBox;\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        let boundingBoxWidth = boundingBox.x2 - boundingBox.x1;\r\n        boundingBoxWidth += this.stylingAttributes.strokeWidth;\r\n        return boundingBoxWidth;\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        let boundingBoxHeight = boundingBox.y2 - boundingBox.y1;\r\n        boundingBoxHeight += this.stylingAttributes.strokeWidth;\r\n        return boundingBoxHeight;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/rectangle.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport VerticalGroupChildChangeListener from './vertical-group-child-change-listener.js';\r\nimport GroupStylingAttributes from \"./group-styling-attributes\";\r\nimport StylingAttributes from \"./styling-attributes\";\r\nimport ChangeListener from \"./change-listener\";\r\n\r\nexport default class VerticalGroup extends GraphicalElement {\r\n\r\n    constructor(verticalGroupX = 0, verticalGroupY = 0, verticalGroupStylingAttributes = new StylingAttributes(), groupStylingAttributes = new GroupStylingAttributes()) {\r\n        super({\r\n            x: verticalGroupX,\r\n            y: verticalGroupY,\r\n            width: 0,\r\n            height: 0,\r\n            stylingAttributes: verticalGroupStylingAttributes\r\n        });\r\n        this._groupStylingAttributes = groupStylingAttributes;\r\n        this._children = [];\r\n        this._resizePolicy = [];\r\n        this._gravity = [];\r\n        this._weight = [];\r\n        this._overlap = [];\r\n        this._frame = null;\r\n        this._dimensionReadjustmentEnabled = 0; // Must listeners be notified about changes?\r\n                                                // 0 means yes.\r\n                                                // Any value greater than 0 means a recursive call to\r\n                                                // disable change notifications.\r\n        // Does the group must fit its content?\r\n        // If the user resize it, for example, this attribute may be changed to false.\r\n        this._fitContent = true;\r\n    }\r\n\r\n    // The child goes further the content area and touches the frame borders.\r\n    static get MATCH_PARENT() {\r\n        return 3;\r\n    }\r\n\r\n    // The child does not use horizontal margins for elements.\r\n    static get MATCH_CONTENT_AREA() {\r\n        return 2;\r\n    }\r\n\r\n    // The child uses the parent space minus the margins.\r\n    static get FILL_SPACE() {\r\n        return 1;\r\n    }\r\n\r\n    static get WRAP_CONTENT() {\r\n        return 0;\r\n    }\r\n\r\n    static get LEFT() {\r\n        return 0;\r\n    }\r\n\r\n    static get CENTER() {\r\n        return 1;\r\n    }\r\n\r\n    static get RIGHT() {\r\n        return 2;\r\n    }\r\n\r\n    /**\r\n     * Returns the group x coordinate.\r\n     * @returns {number} The group x coordinate.\r\n     */\r\n    get x() {\r\n        return super.x;\r\n    }\r\n\r\n    /**\r\n     * Sets the group x coordinate.\r\n     * @param {number} value The new x coordinate.\r\n     */\r\n    set x(value) {\r\n        // Calculate the difference between the current x value and the new one.\r\n        let delta = value - this.x;\r\n\r\n        super.x = value;\r\n        if (this.frame !== null) {\r\n            this.frame.x = this.x;\r\n        }\r\n\r\n        //*****************************\r\n        // Move all children.\r\n        this.disableDimensionReadjustment(); // The dimension does not have to change in this case.\r\n        for (let child of this.children) {\r\n            child.x += delta;\r\n        }\r\n        this.enableDimensionReadjustment();\r\n    }\r\n\r\n    /**\r\n     * Returns the group y coordinate.\r\n     * @returns {number} The group y coordinate.\r\n     */\r\n    get y() {\r\n        return super.y;\r\n    }\r\n\r\n    /**\r\n     * Changes the group y coordinate.\r\n     * @param {number} value The new y coordinate.\r\n     */\r\n    set y(value) {\r\n        // Calculate the difference between the current y value and the new one.\r\n        let delta = value - this.y;\r\n\r\n        super.y = value;\r\n        if (this.frame !== null) {\r\n            this.frame.y = this.y;\r\n        }\r\n\r\n        //*****************************\r\n        // Move all children.\r\n        this.disableDimensionReadjustment(); // The dimension does not have to change in this case.\r\n        for (let child of this.children) {\r\n            child.y += delta;\r\n        }\r\n        this.enableDimensionReadjustment();\r\n    }\r\n\r\n    /**\r\n     * Returns the group width.\r\n     * @returns {number} The group width.\r\n     */\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    /**\r\n     * Sets the group width.\r\n     * If the new width is smaller than the minimum required width to display the group, return without changing anything.\r\n     * @param {number} value The new width.\r\n     */\r\n    set width(value) {\r\n        //let oldChangeNotificationsStatus = this.changeNotificationsEnabled;\r\n        //let oldDimensionReadjustmentStatus = this.dimensionReadjustmentEnabled;\r\n        this.disableChangeNotifications(); // Prevent stack overflow.\r\n        this.disableDimensionReadjustment(); // Prevent stack overflow.\r\n        let minimumRequiredWidth = this.minContentWidth;\r\n        if (this.frame !== null) {\r\n            let boundingBox = new BoundingBox(this.x, this.y, this.x + minimumRequiredWidth, this.y2);\r\n            minimumRequiredWidth = this.frame.widthToFit(boundingBox);\r\n        }\r\n        if (value < minimumRequiredWidth) { // Do not resize if the content does not fit the new width.\r\n            return;\r\n        }\r\n\r\n        super.width = value;\r\n\r\n        // Check whether the height must be changed.\r\n        // It must be necessary if the frame is a circle or a square, for example.\r\n        if (this.frame !== null) {\r\n            this.frame.width = this.width;\r\n            super.height = this.frame.height;\r\n        }\r\n\r\n        this.adjustChildrenPositionAndDimension();\r\n\r\n        this.enableChangeNotifications();\r\n        this.enableDimensionReadjustment();\r\n        //this.changeNotificationsEnabled = oldChangeNotificationsStatus;\r\n        //this.dimensionReadjustmentEnabled = oldDimensionReadjustmentStatus;\r\n    }\r\n\r\n    /**\r\n     * Calculates and returns the minimum width required to display the group content.\r\n     * @returns {number} The minimum width required to display the group content.\r\n     */\r\n    get minContentWidth() {\r\n        let calcMinWidth = 0;\r\n        // Get the biggest child min width and add the horizontal margin when necessary.\r\n        for (let i = 0; i < this.countChildren(); i++) {\r\n            let child = this.getChildAt(i);\r\n            if (child.minWidth > calcMinWidth) {\r\n                calcMinWidth = child.minWidth;\r\n                // MATCH_CONTENT_AREA does not use horizontal margins for elements.\r\n                // It is used for lines, for example.\r\n                if (this.resizePolicy[i] !== VerticalGroup.MATCH_CONTENT_AREA &&\r\n                    this.resizePolicy[i] !== VerticalGroup.MATCH_PARENT) {\r\n                    calcMinWidth += 2 * this.horMargin;\r\n                }\r\n            }\r\n        }\r\n        return calcMinWidth;\r\n    }\r\n\r\n    /**\r\n     * Calculates and returns the minimum width required to display the group frame and its content.\r\n     * @returns {number} The minimum width required to display the group frame and its content.\r\n     */\r\n    get minWidth() {\r\n        let calcMinWidth = this.minContentWidth;\r\n\r\n        if (this.frame !== null) {\r\n            let boundingBox = new BoundingBox(this.x, this.y, this.x + calcMinWidth, this.y2);\r\n            let frameWidth = this.frame.widthToFit(boundingBox);\r\n            return frameWidth;\r\n        }\r\n\r\n        return calcMinWidth;\r\n    }\r\n\r\n    /**\r\n     * Returns the group height.\r\n     * @returns {number} The group height.\r\n     */\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    /**\r\n     * Sets the group height.\r\n     * @param {number} value The group height.\r\n     */\r\n    set height(value) {\r\n        //let oldChangeNotificationsStatus = this.changeNotificationsEnabled;\r\n        //let oldDimensionReadjustmentStatus = this.dimensionReadjustmentEnabled;\r\n\r\n        this.disableChangeNotifications();\r\n        this.disableDimensionReadjustment(); // Prevent stack overflow.\r\n        let minimumRequiredHeight = this.minHeight;\r\n        if (value < minimumRequiredHeight) {\r\n            return;\r\n        }\r\n\r\n        super.height = value;\r\n\r\n        // Check whether the width must be changed.\r\n        // It must be necessary if the frame is a circle or a square, for example.\r\n        if (this.frame !== null) {\r\n            this.frame.height = this.height;\r\n            super.width = this.frame.width;\r\n        }\r\n\r\n        this.adjustChildrenPositionAndDimension();\r\n\r\n        //this.changeNotificationsEnabled = oldChangeNotificationsStatus;\r\n        this.enableChangeNotifications();\r\n        this.enableDimensionReadjustment();\r\n        //this.dimensionReadjustmentEnabled = oldDimensionReadjustmentStatus;\r\n    }\r\n\r\n    /**\r\n     * Calculates and returns the minimum height required to display the group content.\r\n     * @returns {number} The minimum height required to display the group content.\r\n     */\r\n    get minContentHeight() {\r\n        let contentMinHeight = 0;\r\n        let i = 0;\r\n        for (let child of this.children) {\r\n            contentMinHeight += this.verMargin;\r\n            contentMinHeight += child.minHeight + this.overlap[i];\r\n            i++;\r\n        }\r\n        if (this.countChildren() > 0) {\r\n            contentMinHeight += this.verMargin;\r\n        }\r\n\r\n        return contentMinHeight;\r\n    }\r\n\r\n    /**\r\n     * Calculates and returns the minimum height required to display the group frame and its content.\r\n     * @returns {number} The minimum height required to display the group frame and its content.\r\n     */\r\n    get minHeight() {\r\n        let calcMinHeight = this.minContentHeight;\r\n\r\n        if (this.frame !== null) {\r\n            let boundingBox = new BoundingBox(this.x, this.y, this.x2, this.y + calcMinHeight);\r\n            let frameHeight = this.frame.heightToFit(boundingBox);\r\n            return frameHeight;\r\n        }\r\n\r\n        return calcMinHeight;\r\n    }\r\n\r\n    /**\r\n     * Returns the children.\r\n     * @returns {Array} The children.\r\n     */\r\n    get children() {\r\n        return this._children;\r\n    }\r\n\r\n    /**\r\n     * Sets the children.\r\n     * @param {Array} value The children array.\r\n     */\r\n    set children(value) {\r\n        this._children = [];\r\n        for (let child of value) {\r\n            this.add(child);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the frame.\r\n     * @returns {GeometricShape|null} The frame.\r\n     */\r\n    get frame() {\r\n        return this._frame;\r\n    }\r\n\r\n    // TODO: What to do when a frame is removed?\r\n    /**\r\n     * Sets the frame.\r\n     * @param {GeometricShape|null} value value The new frame.\r\n     */\r\n    set frame(value) {\r\n        this.disableChangeNotifications();\r\n\r\n        // Change the group width and height to accommodate the frame border.\r\n        this.width += value.borderSize * 2;\r\n        this.height += value.borderSize * 2;\r\n\r\n        this._frame = value;\r\n        this.drawn.appendChild(this.frame.drawn);\r\n        this.frame.x = this.x;\r\n        this.frame.y = this.y;\r\n        this.frame.width = this.width;\r\n        this.frame.height = this.height;\r\n\r\n        this.adjustChildrenPositionAndDimension();\r\n        this.enableChangeNotifications();\r\n\r\n        this.frame.notifyListeners(ChangeListener.POSITION, ChangeListener.DIMENSION);\r\n        this.notifyListeners(ChangeListener.POSITION, ChangeListener.DIMENSION);\r\n    }\r\n\r\n    get dimensionReadjustmentEnabled() {\r\n        return this._dimensionReadjustmentEnabled === 0;\r\n    }\r\n\r\n    /*\r\n        set dimensionReadjustmentEnabled(value) {\r\n            this._dimensionReadjustmentEnabled = value;\r\n        }\r\n    */\r\n\r\n    get fitContent() {\r\n        return this._fitContent;\r\n    }\r\n\r\n    set fitContent(value) {\r\n        this._fitContent = value;\r\n    }\r\n\r\n    get groupStylingAttributes() {\r\n        return this._groupStylingAttributes;\r\n    }\r\n\r\n    set groupStylingAttributes(value) {\r\n        this._groupStylingAttributes = value;\r\n        this.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    /**\r\n     * Returns the horizontal margin.\r\n     * @returns {number} The horizontal margin.\r\n     */\r\n    get horMargin() {\r\n        if (this.groupStylingAttributes !== null) {\r\n            return this.groupStylingAttributes.horMargin;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * Returns the vertical margin.\r\n     * @returns {number} The vertical margin.\r\n     */\r\n    get verMargin() {\r\n        if (this.groupStylingAttributes !== null) {\r\n            return this.groupStylingAttributes.verMargin;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    get borderSize() {\r\n        if (this.frame !== null) {\r\n            return this.frame.borderSize;\r\n        }\r\n    }\r\n\r\n    get resizePolicy() {\r\n        return this._resizePolicy;\r\n    }\r\n\r\n    set resizePolicy(value) {\r\n        this._resizePolicy = value;\r\n    }\r\n\r\n    get gravity() {\r\n        return this._gravity;\r\n    }\r\n\r\n    set gravity(value) {\r\n        this._gravity = value;\r\n    }\r\n\r\n    get weight() {\r\n        return this._weight;\r\n    }\r\n\r\n    set weight(value) {\r\n        this._weight = value;\r\n    }\r\n\r\n    get overlap() {\r\n        return this._overlap;\r\n    }\r\n\r\n    set overlap(value) {\r\n        this._overlap = value;\r\n    }\r\n\r\n    /**\r\n     * Recalculate children position and dimension.\r\n     */\r\n    adjustChildrenPositionAndDimension() {\r\n        let availableWidthForChildren = this.width;\r\n        let newX = this.x;\r\n        let newY = this.y;\r\n        let rightXLimit = this.x + this.width;\r\n        let bottomYLimit = this.y + this.height;\r\n        if (this.frame !== null) {\r\n            let contentBox = this.frame.contentBox(this.width, this.height);\r\n            availableWidthForChildren = contentBox.width;\r\n            newX = contentBox.x1;\r\n            newY = contentBox.y1;\r\n            rightXLimit = contentBox.x2;\r\n            bottomYLimit = contentBox.y2;\r\n        }\r\n\r\n        // Calculate the content height.\r\n        let contentHeight = 0;\r\n        if (this.countChildren() > 0) {\r\n            contentHeight += this.verMargin;\r\n        }\r\n        let i = 0;\r\n        for (let child of this.children) {\r\n            contentHeight += child.height + this.overlap[i];\r\n            contentHeight += this.verMargin;\r\n            i++;\r\n        }\r\n\r\n        // Calculate the space left after drawing all children.\r\n        let heightLeft = (bottomYLimit - newY) - contentHeight;\r\n        // If the is space left, distribute it among the children with weight greater than zero (0).\r\n        if (heightLeft > 0) {\r\n            // Sum all children weight.\r\n            let weightSum = 0;\r\n            for (i = 0; i < this.countChildren(); i++) {\r\n                weightSum += this.weight[i];\r\n            }\r\n            for (i = 0; i < this.countChildren(); i++) {\r\n                let child = this.children[i];\r\n                if (this.weight[i] > 0) {\r\n                    let deltaHeight = this.weight[i] / weightSum * heightLeft;\r\n                    child.height += deltaHeight;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Center content vertically inside the group.\r\n        // It is important for squared frames as circles, for example.\r\n        // Recalculate the content weight.\r\n        contentHeight = 0;\r\n        if (this.countChildren() > 0) {\r\n            contentHeight += this.verMargin;\r\n        }\r\n        i = 0;\r\n        for (let child of this.children) {\r\n            contentHeight += child.height + this.overlap[i];\r\n            contentHeight += this.verMargin;\r\n            i++;\r\n        }\r\n        let deltaY = ((bottomYLimit - newY) - contentHeight) / 2;\r\n        newY += deltaY + this.verMargin; // The vertical margin is necessary to start at the right position for the first child.\r\n\r\n        // Adjust children's position and dimension.\r\n        for (i = 0; i < this.countChildren(); i++) {\r\n            //let oldChangeNotificationsStatus = this.children[i].changeNotificationsEnabled;\r\n            this.children[i].disableChangeNotifications(); // Prevent cascade readjustments: parent changes child and child changes parent.\r\n\r\n            if (this.resizePolicy[i] === VerticalGroup.WRAP_CONTENT) {\r\n                if (this.gravity[i] === VerticalGroup.LEFT) {\r\n                    this.children[i].x = newX + this.horMargin;\r\n                } else if (this.gravity[i] == VerticalGroup.RIGHT) {\r\n                    this.children[i].x = rightXLimit - this.horMargin - this.children[i].width;\r\n                } else {\r\n                    this.children[i].x = ((newX + rightXLimit) - this.children[i].width) / 2;\r\n                }\r\n            } else if (this.resizePolicy[i] === VerticalGroup.FILL_SPACE) {\r\n                this.children[i].width = availableWidthForChildren - 2 * this.horMargin;\r\n                this.children[i].x = newX + this.horMargin;\r\n            } else if (this.resizePolicy[i] === VerticalGroup.MATCH_CONTENT_AREA) {\r\n                this.children[i].width = availableWidthForChildren;\r\n                this.children[i].x = newX;\r\n            } else if (this.resizePolicy[i] === VerticalGroup.MATCH_PARENT) {\r\n                let boundaryX1 = this.boundaryX1For(newY);\r\n                let boundaryX2 = this.boundaryX2For(newY);\r\n                if (this.frame !== null) {\r\n                    boundaryX1 = this.frame.boundaryX1For(newY);\r\n                    boundaryX2 = this.frame.boundaryX2For(newY);\r\n                }\r\n\r\n                this.children[i].width = boundaryX2 - boundaryX1;\r\n                this.children[i].x = boundaryX1;\r\n            }\r\n\r\n            newY += this.overlap[i];\r\n            this.children[i].y = newY;\r\n            newY += this.children[i].height + this.verMargin;\r\n\r\n            //this.children[i].changeNotificationsEnabled = oldChangeNotificationsStatus;\r\n            this.children[i].enableChangeNotifications();\r\n            this.children[i].notifyListeners(ChangeListener.POSITION, ChangeListener.DIMENSION);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Readjusts the group dimension.\r\n     */\r\n    readjustDimensions() {\r\n        if (!this.dimensionReadjustmentEnabled) {\r\n            return;\r\n        }\r\n\r\n        if (this.fitContent || this.minWidth > this.width) {\r\n            this.width = this.minWidth;\r\n        }\r\n        if (this.fitContent || this.minHeight > this.height) {\r\n            this.height = this.minHeight;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Increases the width value by the specified parameter value.\r\n     * @param {number} value The width delta.\r\n     */\r\n    increaseWidthBy(value) {\r\n        this.width += value;\r\n    }\r\n\r\n    /**\r\n     * Increases the height value by the specified parameter value.\r\n     * @param {number} value The height delta.\r\n     */\r\n    increaseHeightBy(value) {\r\n        this.height += value;\r\n    }\r\n\r\n    /**\r\n     * Appends a new child to the group.\r\n     * @param child The child.\r\n     * @param resizePolicy the child resize policy.\r\n     * @param gravity The child horizontal gravity.\r\n     */\r\n    addChild(child, resizePolicy = VerticalGroup.WRAP_CONTENT, gravity = VerticalGroup.LEFT, weight = 0, overlap = 0) {\r\n        //let oldChangeNotificationsStatus = this.changeNotificationsEnabled;\r\n        //let oldDimensionReadjustmentStatus = this.dimensionReadjustmentEnabled;\r\n        this.disableChangeNotifications(); // Avoid unnecessary change notifications.\r\n        this.disableDimensionReadjustment(); // Avoid unnecessary readjustments.\r\n\r\n        //*****************************\r\n        // Increase the group height to fit the new child.\r\n        let childRequiredHeight = child.height + this.verMargin + overlap;\r\n        if (this.countChildren() == 0) { // Add another vertical margin to the first child.\r\n            childRequiredHeight += this.verMargin;\r\n        }\r\n        this.increaseHeightBy(childRequiredHeight);\r\n\r\n        //*****************************\r\n        // Calculate the minimum width that the group must have to fit this new child in its content.\r\n        let requiredGroupWidth = child.minWidth + 2 * this.horMargin;  // MARGIN + child + MARGIN.\r\n        if (this.frame !== null) {\r\n            let boundingBox = new BoundingBox(this.x, this.y, this.x + requiredGroupWidth, this.y2);\r\n            requiredGroupWidth = this.frame.widthToFit(boundingBox);\r\n        }\r\n\r\n        //*****************************\r\n        // Add to the group the child, its resizing policy, and its gravity.\r\n        this.children.push(child);\r\n        this.resizePolicy.push(resizePolicy);\r\n        this.gravity.push(gravity);\r\n        this.weight.push(weight);\r\n        this.overlap.push(overlap);\r\n        this.drawn.appendChild(child.drawn);\r\n\r\n        //*****************************\r\n        // Update the group width if necessary.\r\n        if (this.width < requiredGroupWidth) {\r\n            this.width = requiredGroupWidth;\r\n        }\r\n\r\n        // Add the group as a child change listener.\r\n        child.addChangeListener(new VerticalGroupChildChangeListener(this));\r\n\r\n        //this.changeNotificationsEnabled = oldChangeNotificationsStatus;\r\n        this.enableChangeNotifications();\r\n        this.adjustChildrenPositionAndDimension();\r\n        this.enableDimensionReadjustment();\r\n        //this.dimensionReadjustmentEnabled = oldDimensionReadjustmentStatus;\r\n    }\r\n\r\n    /**\r\n     * Returns the number of children.\r\n     * @returns {Number} The number of children.\r\n     */\r\n    countChildren() {\r\n        return this._children.length;\r\n    }\r\n\r\n    /**\r\n     * Returns the children at the specified index.\r\n     * @param {number} i The index.\r\n     * @returns {GeometricShape} The child at the specified index.\r\n     */\r\n    getChildAt(i) {\r\n        return this._children[i];\r\n    }\r\n\r\n    disableDimensionReadjustment() {\r\n        this._dimensionReadjustmentEnabled++;\r\n    }\r\n\r\n    enableDimensionReadjustment() {\r\n        this._dimensionReadjustmentEnabled--;\r\n    }\r\n\r\n    forceFitContent() {\r\n        this.fitContent = true;\r\n        this.readjustDimensions();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/vertical-group.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\n\r\nexport default class GroupStylingAttributes {\r\n\r\n    constructor(horMargin = 10, verMargin = 10) {\r\n        this._horMargin = horMargin;\r\n        this._verMargin = verMargin;\r\n    }\r\n\r\n    get horMargin() {\r\n        return this._horMargin;\r\n    }\r\n\r\n    set horMargin(value) {\r\n        this._horMargin = value;\r\n    }\r\n\r\n    get verMargin() {\r\n        return this._verMargin;\r\n    }\r\n\r\n    set verMargin(value) {\r\n        this._verMargin = value;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/group-styling-attributes.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2018.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from \"./graphical-element\";\r\nimport {notifyListeners} from \"./util\";\r\n\r\nexport default class BoxVerticesDecorator extends GraphicalElement {\r\n\r\n    static get VERTEX() {\r\n        return \"vertex\";\r\n    }\r\n\r\n    constructor(decorated, topLeft = true, topRight = true, bottomLeft = true, bottomRight = true, vertexSize = 5) {\r\n        super();\r\n        decorated.addTag(BoxVerticesDecorator.BOX_VERTICES_TAG, this);\r\n        this._decorated = decorated;\r\n\r\n        this._topLeft = topLeft;\r\n        this._topRight = topRight;\r\n        this._bottomLeft = bottomLeft;\r\n        this._bottomRight = bottomRight;\r\n\r\n        // Vertices drawn.\r\n        this._topLeftVertex = null;\r\n        this._topRightVertex = null;\r\n        this._bottomLeftVertex = null;\r\n        this._bottomRightVertex = null;\r\n\r\n        // Events' callback functions for vertices.\r\n        // The functions receive four attributes: the element in which the event occurred,\r\n        // the mouse x-coordinate, the mouse y-coordinate, and the event object.\r\n        this._onVertexClick = null;\r\n        this._onVertexDblClick = null;\r\n        this._onVertexMouseDown = null;\r\n        this._onVertexMouseMove = null;\r\n        this._onVertexMouseUp = null;\r\n        this._vertexSize = vertexSize;\r\n    }\r\n\r\n    static get BOX_VERTICES_TAG() {\r\n        return \"isBoxVertices\";\r\n    }\r\n\r\n    static get TOP_LEFT() {\r\n        return 0;\r\n    }\r\n\r\n    // It does not use horizontal margins for elements.\r\n    static get TOP_RIGHT() {\r\n        return 1;\r\n    }\r\n\r\n    // It uses horizontal margins for elements.\r\n    static get BOTTOM_LEFT() {\r\n        return 2;\r\n    }\r\n\r\n    static get BOTTOM_RIGHT() {\r\n        return 3;\r\n    }\r\n\r\n    get vertexSize() {\r\n        return this._vertexSize;\r\n    }\r\n\r\n    set vertexSize(value) {\r\n        this._vertexSize = value;\r\n    }\r\n\r\n    get topLeft() {\r\n        return this._topLeft;\r\n    }\r\n\r\n    set topLeft(value) {\r\n        this._topLeft = value;\r\n    }\r\n\r\n    get topRight() {\r\n        return this._topRight;\r\n    }\r\n\r\n    set topRight(value) {\r\n        this._topRight = value;\r\n    }\r\n\r\n    get bottomLeft() {\r\n        return this._bottomLeft;\r\n    }\r\n\r\n    set bottomLeft(value) {\r\n        this._bottomLeft = value;\r\n    }\r\n\r\n    get bottomRight() {\r\n        return this._bottomRight;\r\n    }\r\n\r\n    set bottomRight(value) {\r\n        this._bottomRight = value;\r\n    }\r\n\r\n    get onVertexClick() {\r\n        return this._onVertexClick;\r\n    }\r\n\r\n    set onVertexClick(value) {\r\n        this._onVertexClick = value;\r\n    }\r\n\r\n    get onVertexDblClick() {\r\n        return this._onVertexDblClick;\r\n    }\r\n\r\n    set onVertexDblClick(value) {\r\n        this._onVertexDblClick = value;\r\n    }\r\n\r\n    get onVertexMouseDown() {\r\n        return this._onVertexMouseDown;\r\n    }\r\n\r\n    set onVertexMouseDown(value) {\r\n        this._onVertexMouseDown = value;\r\n    }\r\n\r\n    get onVertexMouseMove() {\r\n        return this._onVertexMouseMove;\r\n    }\r\n\r\n    set onVertexMouseMove(value) {\r\n        this._onVertexMouseMove = value;\r\n    }\r\n\r\n    get onVertexMouseUp() {\r\n        return this._onVertexMouseUp;\r\n    }\r\n\r\n    set onVertexMouseUp(value) {\r\n        this._onVertexMouseUp = value;\r\n    }\r\n\r\n    get decorated() {\r\n        return this._decorated;\r\n    }\r\n\r\n    set decorated(value) {\r\n        this._decorated = value;\r\n    }\r\n\r\n    get width() {\r\n        return this.decorated.width;\r\n    }\r\n\r\n    set width(value) {\r\n        //this.disableChangeNotifications();\r\n        //this.decorated.disableChangeNotifications();\r\n        this.decorated.width = value;\r\n        //this.decorated.enableChangeNotifications();\r\n        //this.decorated.notifyListeners(ChangeListener.DIMENSION);\r\n        //this.enableChangeNotifications();\r\n    }\r\n\r\n    get height() {\r\n        return this.decorated.height;\r\n    }\r\n\r\n    set height(value) {\r\n        //this.disableChangeNotifications();\r\n        //this.decorated.disableChangeNotifications();\r\n        this.decorated.height = value;\r\n        //this.decorated.enableChangeNotifications();\r\n        //this.decorated.notifyListeners(ChangeListener.DIMENSION);\r\n        //this.enableChangeNotifications();\r\n    }\r\n\r\n\r\n    get topLeftVertex() {\r\n        return this._topLeftVertex;\r\n    }\r\n\r\n    set topLeftVertex(value) {\r\n        this._topLeftVertex = value;\r\n    }\r\n\r\n    get topRightVertex() {\r\n        return this._topRightVertex;\r\n    }\r\n\r\n    set topRightVertex(value) {\r\n        this._topRightVertex = value;\r\n    }\r\n\r\n    get bottomLeftVertex() {\r\n        return this._bottomLeftVertex;\r\n    }\r\n\r\n    set bottomLeftVertex(value) {\r\n        this._bottomLeftVertex = value;\r\n    }\r\n\r\n    get bottomRightVertex() {\r\n        return this._bottomRightVertex;\r\n    }\r\n\r\n    set bottomRightVertex(value) {\r\n        this._bottomRightVertex = value;\r\n    }\r\n\r\n    // Events.\r\n    dispathOnVertexClick(target, x, y, event) {\r\n        notifyListeners(this._onVertexClick, target, x, y, event);\r\n    }\r\n\r\n    dispathOnVertexDblClick(target, x, y, event) {\r\n        notifyListeners(this._onVertexDblClick, target, x, y, event);\r\n    }\r\n\r\n    dispathOnVertexMouseDown(target, x, y, event) {\r\n        notifyListeners(this._onVertexMouseDown, target, x, y, event);\r\n    }\r\n\r\n    dispathOnVertexMouseMove(target, x, y, event) {\r\n        notifyListeners(this._onVertexMouseMove, target, x, y, event);\r\n    }\r\n\r\n    dispathOnVertexMouseUp(target, x, y, event) {\r\n        notifyListeners(this._onVertexMouseUp, target, x, y, event);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/box-vertices-decorator.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\n\r\n/**\r\n * This class implements circles.\r\n * The general circle equation is (x-a)^2 + (y-b)^2 = r^2,\r\n * where\r\n * a,b are the x,y coordinates of the circle's center.\r\n */\r\nexport default class Circle\r\n    extends GraphicalElement {\r\n\r\n    constructor(centerX = 0, centerY = 0, radius = 50, circleStylingAttributes = new StylingAttributes()) {\r\n        super({\r\n            x: centerX - radius,\r\n            y: centerY - radius,\r\n            width: radius * 2,\r\n            height: radius * 2,\r\n            stylingAttributes: circleStylingAttributes\r\n        });\r\n    }\r\n\r\n    get centerX() {\r\n        return this.x + (this.width / 2);\r\n    }\r\n\r\n    get centerY() {\r\n        return this.y + (this.height / 2);\r\n    }\r\n\r\n    get radius() {\r\n        return this.width / 2;\r\n    }\r\n\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.disableChangeNotifications();\r\n        super.height = value;\r\n        this.enableChangeNotifications();\r\n        super.width = value;\r\n    }\r\n\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.disableChangeNotifications();\r\n        super.width = value;\r\n        this.enableChangeNotifications();\r\n        super.height = value;\r\n    }\r\n\r\n    boundaryX1For(givenY) {\r\n        // The circle equation is (x-a)^2 + (y-b)^2 = r^2\r\n        // (x-a)^2 = r^2 - (y-b)^2\r\n        // x^2 - 2xa + a^2 = r^2 - (y-b)^2\r\n        // x^2 - 2xa + (a^2 -r^2 + (y-b)^2) = 0\r\n        let eqa = 1;\r\n        let eqb = -2 * this.centerX;\r\n        let eqc = Math.pow(this.centerX, 2) - Math.pow(this.radius, 2) + Math.pow(givenY - this.centerY, 2);\r\n        let delta = eqb * eqb - 4 * eqa * eqc;\r\n        let sqrtDelta = Math.sqrt(delta);\r\n        let x1 = (-eqb - sqrtDelta) / (2 * eqa);\r\n        return x1;\r\n    }\r\n\r\n    boundaryX2For(givenY) {\r\n        let eqa = 1;\r\n        let eqb = -2 * this.centerX;\r\n        let eqc = Math.pow(this.centerX, 2) - Math.pow(this.radius, 2) + Math.pow(givenY - this.centerY, 2);\r\n        let delta = eqb * eqb - 4 * eqa * eqc;\r\n        let sqrtDelta = Math.sqrt(delta);\r\n        let x2 = (-eqb + sqrtDelta) / (2 * eqa);\r\n        return x2;\r\n    }\r\n\r\n    contentBox(width = 1, height = 1) {\r\n        // Take into consideration the ratio among width and height.\r\n        // FORMULA:\r\n        // (width/2)^2 + (height/2)^2 = radius^2\r\n        // (width/2)^2 + (width/ratio/2)^2 = radius^2\r\n        // (width/2)^2 + (width/2*ratio)^2 = radius^2\r\n        // if z = width/2 | z^2 + ((1/ratio)*z)^2 = radius^2\r\n        // (1 + (1/ratio)^2) z^2 = radius^2\r\n        // z = sqrt(radius^2/ (1 + (1/ratio)^2))\r\n\r\n        let ratio = width / height;\r\n        let squaredRadius = this.radius * this.radius;\r\n        let halfWidth = Math.sqrt(squaredRadius / (1 + Math.pow(1 / ratio, 2)));\r\n        let halfHeight = halfWidth / ratio;\r\n        let deltaX = this.radius - halfWidth;\r\n        let deltaY = this.radius - halfHeight;\r\n\r\n        let contentBox = new BoundingBox(this.x + deltaX, this.y + deltaY, this.x + this.width - deltaX, this.y + this.height - deltaY);\r\n\r\n        return contentBox;\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        let diameter = Math.sqrt(Math.pow(boundingBox.width, 2) + Math.pow(boundingBox.height, 2));\r\n        return diameter;\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        return this.widthToFit(boundingBox);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/circle.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\nimport ChangeListener from \"./change-listener\";\r\n\r\n/**\r\n * This class implements ellipses.\r\n * The general ellipse equation is (x-h)^2/a^2 + (y-k)^2/b^2 = 1,\r\n * where\r\n * a is the radius along the x-axis\r\n * b is the radius along the y-axis\r\n * h,k are the x,y coordinates of the ellipse's center.\r\n */\r\nexport default class Ellipse extends GraphicalElement {\r\n\r\n    constructor(centerX = 0, centerY = 0, radiusX = 50, radiusY = 25, ellipseStylingAttributes = new StylingAttributes(), ellipsePreserveAspectRatio = false) {\r\n        super({x: centerX - radiusX, y: centerY - radiusY, width: radiusX * 2, height: radiusY * 2, stylingAttributes: ellipseStylingAttributes, preserveAspectRatio: ellipsePreserveAspectRatio});\r\n    }\r\n\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        super.width = value;\r\n        this.enableChangeNotifications();\r\n        this.notifyListeners(ChangeListener.DIMENSION);\r\n    }\r\n\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        super.height = value;\r\n        this.enableChangeNotifications();\r\n        this.notifyListeners(ChangeListener.DIMENSION);\r\n    }\r\n\r\n    get centerX() {\r\n        return this.x + (this.width / 2);\r\n    }\r\n\r\n    set centerX(value) {\r\n        this.x = value - (this.width / 2);\r\n    }\r\n\r\n    get centerY() {\r\n        return this.y + (this.height / 2);\r\n    }\r\n\r\n    set centerY(value) {\r\n        this.y = value - (this.height / 2);\r\n    }\r\n\r\n    get radiusX() {\r\n        return this.width / 2;\r\n    }\r\n\r\n    set radiusX(value) {\r\n        this.width = value * 2;\r\n    }\r\n\r\n    get radiusY() {\r\n        return this.height / 2;\r\n    }\r\n\r\n    set radiusY(value) {\r\n        this.height = value * 2;\r\n    }\r\n\r\n    boundaryX1For(givenY) {\r\n        // The general ellipse equation is (x-h)^2/a^2 + (y-k)^2/b^2 = 1\r\n        // (x^2 - 2xh + h^2)\r\n        // ----------------- + (y-k)^2/b^2 - 1 = 0\r\n        //        a^2\r\n        // (1/a^2)x^2 - (2h/a^2)x + h^2/a^2 + (y-k)^2/b^2 - 1 = 0\r\n        let a = this.radiusX;\r\n        let b = this.radiusY;\r\n        let h = this.centerX;\r\n        let k = this.centerY;\r\n        let eqa = 1 / (a * a);\r\n        let eqb = -2 * h / (a * a);\r\n        let eqc = ((h * h) / (a * a)) + Math.pow(givenY - k, 2) / (b * b) - 1;\r\n        let delta = eqb * eqb - 4 * eqa * eqc;\r\n        let sqrtDelta = Math.sqrt(delta);\r\n        let x1 = (-eqb - sqrtDelta) / (2 * eqa);\r\n        return x1;\r\n    }\r\n\r\n    boundaryX2For(givenY) {\r\n        // The general ellipse equation is (x-h)^2/a^2 + (y-k)^2/b^2 = 1\r\n        // (x^2 - 2xh + h^2)\r\n        // ----------------- + (y-k)^2/b^2 - 1 = 0\r\n        //        a^2\r\n        // (1/a^2)x^2 - (2h/a^2)x + h^2/a^2 + (y-k)^2/b^2 - 1 = 0\r\n        let a = this.radiusX;\r\n        let b = this.radiusY;\r\n        let h = this.centerX;\r\n        let k = this.centerY;\r\n        let eqa = 1 / (a * a);\r\n        let eqb = -2 * h / (a * a);\r\n        let eqc = ((h * h) / (a * a)) + Math.pow(givenY - k, 2) / (b * b) - 1;\r\n        let delta = eqb * eqb - 4 * eqa * eqc;\r\n        let sqrtDelta = Math.sqrt(delta);\r\n        let x2 = (-eqb + sqrtDelta) / (2 * eqa);\r\n        return x2;\r\n    }\r\n\r\n    contentBox(width = 1, height = 1) {\r\n        let sqrt2 = Math.sqrt(2);\r\n        let rectHeight = (this.height / 2) * sqrt2;\r\n        let rectWidth = (this.width / 2) * sqrt2;\r\n        let deltaX = (this.width - rectWidth) / 2;\r\n        let deltaY = (this.height - rectHeight) / 2;\r\n\r\n        let contentBox = new BoundingBox(this.x + deltaX, this.y + deltaY, this.x + this.width - deltaX, this.y + this.height - deltaY);\r\n\r\n        return contentBox;\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        // Ellipse formula is (x/A)^2+(y/B)^2=1, where A and B are the two radius of the ellipse\r\n        // Rectangle sides are Rw and Rh\r\n        // Let's assume we want ellipse with same proportions as rectangle; then, if we image square in circle (A=B,Rq=Rh) and squeeze it, we well keep ratio of ellipse A/B same as ratio of rectangle sides Rw/Rh;\r\n        // This leads us to following system of equations:\r\n        //     (x/A)^2+(y/B)^2=1\r\n        // A/B=Rw/Rh\r\n        //\r\n        // Lets solve it: A=B*(Rw/Rh)\r\n        //     (Rh/2B)^2+(Rh/2B)^2=1\r\n        // Rh=sqrt(2)*B\r\n        //\r\n        // And final solution:\r\n        //     A=Rw/sqrt(2)\r\n        // B=Rh/sqrt(2)\r\n\r\n        return 2 * boundingBox.width / Math.sqrt(2);\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        return 2 * boundingBox.height / Math.sqrt(2);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/ellipse.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\nimport ChangeListener from \"./change-listener\";\r\n\r\n/**\r\n * This class implements diamonds.\r\n */\r\nexport default class Diamond extends GraphicalElement {\r\n\r\n    constructor(x1 = 0, y1 = 0, width = 0, height = 0, diamondPreserveAspectRatio = false, diamondStylingAttributes = new StylingAttributes()) {\r\n        // The third parameter is the horizontal diagonal and the fourth one is the vertical diagonal.\r\n        super({\r\n            x: x1,\r\n            y: y1,\r\n            width: Math.sqrt(2 * Math.pow(width, 2)),\r\n            height: Math.sqrt(2 * Math.pow(height, 2)),\r\n            stylingAttributes: diamondStylingAttributes,\r\n            preserveAspectRatio: diamondPreserveAspectRatio\r\n        });\r\n    }\r\n\r\n    get width() {\r\n        return super.width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        super.width = value;\r\n        /*\r\n                if (this.preserveAspectRatio) {\r\n                    super.height = value;\r\n                }\r\n        */\r\n        this.enableChangeNotifications();\r\n        this.notifyListeners(ChangeListener.DIMENSION);\r\n    }\r\n\r\n    get height() {\r\n        return super.height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.disableChangeNotifications(); // Avoid unnecessary repeated notifications.\r\n        super.height = value;\r\n        /*\r\n                if (this.preserveAspectRatio) {\r\n                    super.width = value;\r\n                }\r\n        */\r\n        this.enableChangeNotifications();\r\n        this.notifyListeners(ChangeListener.DIMENSION);\r\n    }\r\n\r\n    boundaryX1For(givenY) {\r\n        // Using the line equation for two points:\r\n        // y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)\r\n        // assuming that a = (y2 - y1)/(x2 - x1)\r\n        // x = x1 + (y - y1)/a;\r\n        let middleY = this.y + this.height / 2;\r\n        //let middleX = this.x + this.width / 2;\r\n        let a = this.height / this.width;\r\n        if (givenY === middleY) { // Middle.\r\n            return this.x;\r\n        } else if (givenY < middleY) { // Use the top \"/\" line.\r\n            return this.x + (givenY - this.y) / a;\r\n        } else { // Use the bottom \"\\\" line.\r\n            return this.x + (givenY - middleY) / a;\r\n        }\r\n    }\r\n\r\n    boundaryX2For(givenY) {\r\n        // Using the line equation for two points:\r\n        // y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)\r\n        // assuming that a = (y2 - y1)/(x2 - x1)\r\n        // x = x1 + (y - y1)/a;\r\n        let middleY = this.y + this.height / 2;\r\n        let middleX = this.x + this.width / 2;\r\n        let a = this.height / this.width;\r\n        if (givenY == middleY) { // Middle.\r\n            return this.x + this.width;\r\n        } else if (givenY < middleY) { // Use the top \"\\\" line.\r\n            return middleX + (givenY - this.y) / a;\r\n        } else { // Use the bottom \"/\" line.\r\n            return middleX + (givenY - middleY) / a;\r\n        }\r\n    }\r\n\r\n    contentBox(width, height) { // For diamonds, it does not matter the current width/height of a group they may be a frame of.\r\n        let deltaX = this.width / 4;\r\n        let deltaY = this.height / 4;\r\n        let boundingBox = new BoundingBox(this.x + deltaX, this.y + deltaY, this.x + this.width - deltaX, this.y + this.height - deltaY);\r\n        return boundingBox;\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        return 2 * boundingBox.width;\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        return 2 * boundingBox.height;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/diamond.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport StylingAttributes from './styling-attributes.js';\r\nimport FontStylingAttributes from \"./font-styling-attributes\";\r\nimport ChangeListener from \"./change-listener\";\r\n\r\n/**\r\n * This class implements texts.\r\n */\r\nexport default class Text extends GraphicalElement {\r\n\r\n    constructor(textX = 10, textY = 10, text = \"Text\", textStylingAttributes = new StylingAttributes(1, \"black\", \"black\"), fontStylingAttributes = new FontStylingAttributes()) {\r\n        super({x: textX, y: textY, stylingAttributes: textStylingAttributes});\r\n        this._text = text;\r\n        this._fontStylingAttributes = fontStylingAttributes;\r\n        this._fontStylingAttributes.target = this;\r\n    }\r\n\r\n\r\n    /*get minWidth() {\r\n        let boundingBox = this.drawn.getBBox();\r\n        return boundingBox.width;\r\n    }\r\n\r\n    get minHeight() {\r\n        let boundingBox = this.drawn.getBBox();\r\n        return boundingBox.height;\r\n    }*/\r\n\r\n\r\n    get text() {\r\n        return this._text;\r\n    }\r\n\r\n    set text(value) {\r\n        this._text = value;\r\n        this.notifyListeners(ChangeListener.OTHER);\r\n        //this.calculateDimensions();\r\n    }\r\n\r\n    get fontStylingAttributes() {\r\n        return this._fontStylingAttributes;\r\n    }\r\n\r\n    set fontStylingAttributes(value) {\r\n        this._fontStylingAttributes = value;\r\n        this.fontStylingAttributes.target = this;\r\n        this.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    /*  calculateDimensions() {\r\n          try {\r\n              this.width = this.minWidth;\r\n              this.height = this.minHeight;\r\n          }\r\n          catch (error) {\r\n          }\r\n      }*/\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/text.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport ChangeListener from \"./change-listener\";\r\n\r\nexport default class FontStylingAttributes {\r\n    constructor(family = \"'Roboto', sans-serif\", size = 13, weight = \"100\", style = \"normal\", target = null) {\r\n        this._family = family;\r\n        this._size = size;\r\n        this._weight = weight;\r\n        this._target = target;\r\n        this._style = style;\r\n    }\r\n\r\n    get style() {\r\n        return this._style;\r\n    }\r\n\r\n    set style(value) {\r\n        this._style = value;\r\n    }\r\n\r\n    get family() {\r\n        return this._family;\r\n    }\r\n\r\n    set family(value) {\r\n        this._family = value;\r\n        this.target.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    get size() {\r\n        return this._size;\r\n    }\r\n\r\n    set size(value) {\r\n        this._size = value;\r\n        this.target.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    get weight() {\r\n        return this._weight;\r\n    }\r\n\r\n    set weight(value) {\r\n        this._weight = value;\r\n        this.target.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n\r\n    get target() {\r\n        return this._target;\r\n    }\r\n\r\n    set target(value) {\r\n        this._target = value;\r\n        this.target.notifyListeners(ChangeListener.STYLING);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/font-styling-attributes.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport StylingAttributes from './styling-attributes';\r\n\r\nexport default class Line extends GraphicalElement {\r\n\r\n    constructor(x1 = 10, y1 = 10, x2 = 1, y2 = 1, lineStylingAttributes = new StylingAttributes(1)) {\r\n        super({\r\n            x: x1,\r\n            y: y1,\r\n            width: x2 - x1 + lineStylingAttributes.strokeWidth,\r\n            height: y2 - y1 + lineStylingAttributes.strokeWidth,\r\n            stylingAttributes: lineStylingAttributes\r\n        });\r\n    }\r\n\r\n    get x1() {\r\n        return this.x;\r\n    }\r\n\r\n    set x1(value) {\r\n        this.x = value;\r\n    }\r\n\r\n    get y1() {\r\n        return this.y;\r\n    }\r\n\r\n    set y1(value) {\r\n        this.y = value;\r\n    }\r\n\r\n    get minWidth() {\r\n        if (this.stylingAttributes !== null) {\r\n            return this.stylingAttributes.strokeWidth;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    get minHeight() {\r\n        if (this.stylingAttributes !== null) {\r\n            return this.stylingAttributes.strokeWidth;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/line.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 09/01/2018.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element';\r\nimport StylingAttributes from './styling-attributes';\r\nimport BoundingBox from \"./bounding-box\";\r\nimport Point from \"./point\";\r\n\r\nexport default class PolyLine extends GraphicalElement {\r\n\r\n    constructor(polyLineStylingAttributes = new StylingAttributes(1)) {\r\n        super({x: 0, y: 0, width: 0, height: 0, stylingAttributes: polyLineStylingAttributes});\r\n        this._idCount = 1;\r\n        this._points = [];\r\n        let coordinates = Array.from(arguments).slice(1);\r\n        if (Array.isArray(coordinates)) {\r\n            coordinates = coordinates[0]; // SVGArea may have passed it as an array.\r\n        }\r\n\r\n        for (let i = 0; i < coordinates.length; i += 2) {\r\n            this.addPoint(coordinates[i], coordinates[i + 1]);\r\n        }\r\n        this.updateBoundingBox();\r\n    }\r\n\r\n    get x1() {\r\n        return this.x;\r\n    }\r\n\r\n    set x1(value) {\r\n        this.x = value;\r\n    }\r\n\r\n    get y1() {\r\n        return this.y;\r\n    }\r\n\r\n    set y1(value) {\r\n        this.y = value;\r\n    }\r\n\r\n    get minWidth() {\r\n        if (this.stylingAttributes !== null) {\r\n            return this.stylingAttributes.strokeWidth;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    get minHeight() {\r\n        if (this.stylingAttributes !== null) {\r\n            return this.stylingAttributes.strokeWidth;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    get points() {\r\n        return this._points;\r\n    }\r\n\r\n    set points(value) {\r\n        this._points = value;\r\n    }\r\n\r\n    generateId() {\r\n        return \"point_\" + (this._idCount++);\r\n    }\r\n\r\n    addPoint(x, y) {\r\n        this._points.push(new Point(x, y, this.generateId()));\r\n        return true;\r\n    }\r\n\r\n    removePointAt(position) {\r\n        if (position >= 0 && position < this.countPoints()) {\r\n            this._points.splice(position, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    removePoint(point) {\r\n        for (var i = 0; i < this._points.length; i++) {\r\n            if (this._points[i].id === point.id) {\r\n                this.removePointAt(i);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    removePointById(id) {\r\n        for (var i = 0; i < this._points.length; i++) {\r\n            if (this._points[i].id === id) {\r\n                this.removePointAt(i);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    countPoints() {\r\n        return this._points.length;\r\n    }\r\n\r\n    findBoundingBox() {\r\n        let minX = Number.MAX_SAFE_INTEGER;\r\n        let minY = Number.MAX_SAFE_INTEGER;\r\n        let maxX = Number.MIN_SAFE_INTEGER;\r\n        let maxY = Number.MIN_SAFE_INTEGER;\r\n        for (let i = 0; i < this.points.length; i++) {\r\n            if (this._points[i].x < minX) {\r\n                minX = this._points[i].x;\r\n            }\r\n            if (this._points[i].x > maxX) {\r\n                maxX = this._points[i].x;\r\n            }\r\n            if (this._points[i].y < minY) {\r\n                minY = this._points[i].y;\r\n            }\r\n            if (this._points[i].y > maxY) {\r\n                maxY = this._points[i].y;\r\n            }\r\n        }\r\n        return new BoundingBox(minX, minY, maxX, maxY);\r\n    }\r\n\r\n    updateBoundingBox() {\r\n        let boundingBox = this.findBoundingBox();\r\n        this.x1 = boundingBox.x1;\r\n        this.y1 = boundingBox.y1;\r\n        this.x2 = boundingBox.x2;\r\n        this.y2 = boundingBox.y2;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/polyline.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport BoundingBox from './bounding-box.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\n\r\nexport default class Image extends GraphicalElement {\r\n\r\n    constructor(imageX = 10, imageY = 10, imageWidth = 20, imageHeight = 20, image = undefined, imageStylingAttributes = new StylingAttributes()) {\r\n        super({\r\n            x: imageX,\r\n            y: imageY,\r\n            width: imageWidth,\r\n            height: imageHeight,\r\n            stylingAttributes: imageStylingAttributes\r\n        });\r\n        this._image = image;\r\n        this._boundingBoxFunction = this.defaultBoundingBox;\r\n        this._widthToFitFunction = this.defaultWidthToFit;\r\n        this._heightToFitFunction = this.defaultHeightToFit;\r\n    }\r\n\r\n    get image() {\r\n        return this._image;\r\n    }\r\n\r\n    set image(value) {\r\n        this._image = value;\r\n    }\r\n\r\n    get boundingBoxFunction() {\r\n        return this._boundingBoxFunction;\r\n    }\r\n\r\n    set boundingBoxFunction(value) {\r\n        this._boundingBoxFunction = value;\r\n    }\r\n\r\n    get widthToFitFunction() {\r\n        return this._widthToFitFunction;\r\n    }\r\n\r\n    set widthToFitFunction(value) {\r\n        this._widthToFitFunction = value;\r\n    }\r\n\r\n    get heightToFitFunction() {\r\n        return this._heightToFitFunction;\r\n    }\r\n\r\n    set heightToFitFunction(value) {\r\n        this._heightToFitFunction = value;\r\n    }\r\n\r\n    defaultBoundingBox(width, height) {\r\n        return new BoundingBox(this.x, this.y, this.x2, this.y2);\r\n    }\r\n\r\n    defaultWidthToFit(boundingBox) {\r\n        return boundingBox.width;\r\n    }\r\n\r\n    defaultHeightToFit(boundingBox) {\r\n        return boundingBox.height;\r\n    }\r\n\r\n    contentBox(width, height) {\r\n        return this.boundingBoxFunction(width, height);\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        return this.widthToFitFunction(boundingBox);\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        return this.heightToFitFunction(boundingBox);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/image.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from './graphical-element.js';\r\nimport StylingAttributes from \"./styling-attributes\";\r\nimport GroupStylingAttributes from \"./group-styling-attributes\";\r\nimport VerticalGroup from \"./vertical-group\";\r\nimport {angleBetween2Lines} from \"./util\";\r\n\r\nexport default class LinearGroup extends GraphicalElement {\r\n\r\n    constructor(x1 = 0, y1 = 0, x2 = 0, y2 = 0, linearGroupStylingAttributes = new StylingAttributes()) {\r\n        super({x: x1, y: y1, width: x2 - x1, height: y2 - y1, stylingAttributes: linearGroupStylingAttributes});\r\n        this._verticalGroup = new VerticalGroup(x1, y1, linearGroupStylingAttributes, new GroupStylingAttributes(0, 0));\r\n    }\r\n\r\n    get verticalGroup() {\r\n        return this._verticalGroup;\r\n    }\r\n\r\n    set verticalGroup(value) {\r\n        this._verticalGroup = value;\r\n    }\r\n\r\n    addChild(child, weight = 0, overlap = 0) {\r\n        this.verticalGroup.addChild(child, VerticalGroup.WRAP_CONTENT, VerticalGroup.CENTER, weight, overlap);\r\n        this.recalculate();\r\n    }\r\n\r\n    recalculate() {\r\n        let lineHeight = 1 + Math.abs(Math.abs(this.verticalGroup.height - Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2))));\r\n        this.verticalGroup.increaseHeightBy(lineHeight);\r\n\r\n        let groupX = Math.min(this.x1, this.x2) + this.width / 2 - this.verticalGroup.width / 2;\r\n        let groupY = Math.min(this.y1, this.y2) - (this.verticalGroup.height - this.height) / 2;\r\n        this.verticalGroup.x = groupX;\r\n        this.verticalGroup.y = groupY;\r\n\r\n        let middleX = this.verticalGroup.x + this.verticalGroup.width / 2;\r\n        let angle = angleBetween2Lines(middleX, this.verticalGroup.y, middleX, this.verticalGroup.y + this.verticalGroup.height,\r\n            this.x, this.y, this.x, this.y2);\r\n        this.verticalGroup.rotation = -1 * angle;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/linear-group.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class GeneralRotationChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.ROTATION);\r\n    }\r\n\r\n    update(target) {\r\n        target.drawn.setAttribute(\"transform\", \"rotate(\" + target.rotation + \" \" + target.rotationCenterX + \" \" + target.rotationCenterY + \")\");\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/general-rotation-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\nimport {toRadians} from \"./util\";\r\n\r\n/**\r\n * This class implements two dimensional points.\r\n */\r\nexport default class Point {\r\n\r\n    constructor(x = 0, y = 0, id = -1) {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._id = id;\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    set id(value) {\r\n        this._id = value;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n\r\n    /**\r\n     * This method rotates \"angle\" degrees the point around the specified coordinate.\r\n     * @param centerX The x-coordinate of the rotation center.\r\n     * @param centerY The y-coordinate of the rotation center.\r\n     * @param angle The angle in degrees.\r\n     */\r\n    rotateAround(centerX, centerY, angle) {\r\n        // See https://stackoverflow.com/questions/22491178/how-to-rotate-a-point-around-another-point\r\n        let x1 = this.x - centerX;\r\n        let y1 = this.y - centerY;\r\n\r\n        let x2 = x1 * Math.cos(toRadians(angle)) - y1 * Math.sin(toRadians(angle));\r\n        let y2 = x1 * Math.sin(toRadians(angle)) + y1 * Math.cos(toRadians(angle));\r\n\r\n        this.x = x2 + centerX;\r\n        this.y = y2 + centerY;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/point.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from './change-listener.js';\r\n\r\nexport default class VerticalGroupChildChangeListener\r\n    extends ChangeListener {\r\n\r\n    constructor(vgroup) {\r\n        super();\r\n        this._vgroup = vgroup;\r\n    }\r\n\r\n    get vgroup() {\r\n        return this._vgroup;\r\n    }\r\n\r\n    set vgroup(value) {\r\n        this._vgroup = value;\r\n    }\r\n\r\n    update(target) {\r\n        this.vgroup.readjustDimensions();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/vertical-group-child-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from './change-listener.js';\r\n\r\nexport default class BoxVerticesDecoratorDecoratedPositionChangeListener\r\n    extends ChangeListener {\r\n\r\n    constructor(decorator) {\r\n        super(ChangeListener.POSITION);\r\n        this._decorator = decorator;\r\n    }\r\n\r\n    get decorator() {\r\n        return this._decorator;\r\n    }\r\n\r\n    set decorator(value) {\r\n        this._decorator = value;\r\n    }\r\n\r\n    update(target) {\r\n        this.decorator.disableChangeNotifications();\r\n        this.decorator.x = this.decorator.decorated.x;\r\n        this.decorator.y = this.decorator.decorated.y;\r\n        this.decorator.rotation = this.decorator.decorated.rotation;\r\n        this.decorator.rotationCenterX = this.decorator.decorated.rotationCenterX;\r\n        this.decorator.rotationCenterY = this.decorator.decorated.rotationCenterY;\r\n        this.decorator.enableChangeNotifications();\r\n        this.decorator.notifyListeners(ChangeListener.POSITION);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/box-vertices-decorator-decorated-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from './change-listener.js';\r\n\r\nexport default class BoxVerticesDecoratorDecoratedRotationChangeListener\r\n    extends ChangeListener {\r\n\r\n    constructor(decorator) {\r\n        super(ChangeListener.ROTATION);\r\n        this._decorator = decorator;\r\n    }\r\n\r\n    get decorator() {\r\n        return this._decorator;\r\n    }\r\n\r\n    set decorator(value) {\r\n        this._decorator = value;\r\n    }\r\n\r\n    update(target) {\r\n        this.decorator.disableChangeNotifications();\r\n        this.decorator.rotation = this.decorator.decorated.rotation;\r\n        this.decorator.rotationCenterX = this.decorator.decorated.rotationCenterX;\r\n        this.decorator.rotationCenterY = this.decorator.decorated.rotationCenterY;\r\n        this.decorator.enableChangeNotifications();\r\n        this.decorator.notifyListeners(ChangeListener.ROTATION);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/box-vertices-decorator-decorated-rotation-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from './change-listener.js';\r\n\r\nexport default class BoxVerticesDecoratorDecoratedDimensionChangeListener\r\n    extends ChangeListener {\r\n\r\n    constructor(decorator) {\r\n        super(ChangeListener.DIMENSION);\r\n        this._decorator = decorator;\r\n    }\r\n\r\n    get decorator() {\r\n        return this._decorator;\r\n    }\r\n\r\n    set decorator(value) {\r\n        this._decorator = value;\r\n    }\r\n\r\n    update(target) {\r\n        let vertexSize = this.decorator.vertexSize;\r\n        let halfSize = (vertexSize - 1) / 2;\r\n\r\n        this.decorator.topRightVertex.x = this.decorator.width - halfSize;\r\n        this.decorator.bottomLeftVertex.y = this.decorator.height - halfSize;\r\n        this.decorator.bottomRightVertex.x = this.decorator.width - halfSize;\r\n        this.decorator.bottomRightVertex.y = this.decorator.height - halfSize;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/box-vertices-decorator-decorated-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport {notifyListeners} from \"./util\";\r\nimport GraphicalElement from \"./graphical-element\";\r\n\r\n/**\r\n * This class implements a layer where the graphic elements can be drawn.\r\n */\r\nexport default class Layer {\r\n\r\n    constructor({id, visible}={}) {\r\n        this._id = id;\r\n        this._visible = visible ? visible : true;\r\n\r\n        // Define a new object to store graphical elements.\r\n        // It works like a map, but with complexity on search of O(1).\r\n        // The key is the element name.\r\n        this._elements = {};\r\n\r\n        // Event listeners.\r\n        // Functions that receive the layer, the old, and the new value as arguments.\r\n        //this._onChangeId = null;\r\n        this._onChangeVisibility = null;\r\n        // Functions that receive the layer and the changed element as arguments.\r\n        this._onAddElement = null;\r\n        this._onRemoveElement = null;\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n   /* set id(value) {\r\n        if (value !== this.id) {\r\n            let oldValue = this.id;\r\n            this._id = value;\r\n            this.notifyIdChange(oldValue, value);\r\n        } else {\r\n            this._id = value;\r\n        }\r\n    }*/\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(value) {\r\n        // Argument is not a boolean.\r\n        if (typeof(value) !== typeof(true)) {\r\n            throw \"Visibility value must be a boolean\";\r\n        }\r\n        if (value !== this.visible) {\r\n            let oldValue = this.visible;\r\n            this._visible = value;\r\n            this.notifyVisibilityChange(oldValue, value);\r\n        } else {\r\n            this._visible = value;\r\n        }\r\n    }\r\n\r\n  /*  get onChangeId() {\r\n        return this._onChangeId;\r\n    }\r\n\r\n    set onChangeId(value) {\r\n        // Argument is not a function.\r\n        if (typeof(value) !== \"function\") {\r\n            throw \"Listener must be a function\";\r\n        }\r\n        this._onChangeId = value;\r\n    }*/\r\n\r\n    get onChangeVisibility() {\r\n        return this._onChangeVisibility;\r\n    }\r\n\r\n    set onChangeVisibility(value) {\r\n        // Argument is not a function.\r\n        if (typeof(value) !== \"function\") {\r\n            throw \"Listener must be a function\";\r\n        }\r\n        this._onChangeVisibility = value;\r\n    }\r\n\r\n    get onAddElement() {\r\n        return this._onAddElement;\r\n    }\r\n\r\n    set onAddElement(value) {\r\n        // Argument is not a function.\r\n        if (typeof(value) !== \"function\") {\r\n            throw \"Listener must be a function\";\r\n        }\r\n        this._onAddElement = value;\r\n    }\r\n\r\n    get onRemoveElement() {\r\n        return this._onRemoveElement;\r\n    }\r\n\r\n    set onRemoveElement(value) {\r\n        // Argument is not a function.\r\n        if (typeof(value) !== \"function\") {\r\n            throw \"Listener must be a function\";\r\n        }\r\n        this._onRemoveElement = value;\r\n    }\r\n\r\n    addElement(element) {\r\n        // Argument is not a graphical element.\r\n        if (!(element instanceof GraphicalElement)) {\r\n            throw \"Layer elements must be graphical elements\";\r\n        }\r\n        // If a graphical element with the same id does not exist in the layer, add it.\r\n        if (!(element.id in this._elements)) {\r\n            this._elements[element.id] = element;\r\n            this.notifyElementAddition(element);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    countElements() {\r\n        return Object.keys(this._elements).length;\r\n    }\r\n\r\n    getElement(id) {\r\n        return this._elements[id];\r\n    }\r\n\r\n    getElementsIds() {\r\n        return Object.keys(this._elements);\r\n    }\r\n\r\n    get elements() {\r\n        return this._elements;\r\n    }\r\n\r\n    removeElement(element) {\r\n        if (element in this._elements) {\r\n            delete this._elements[element.id];\r\n            this.notifyElementRemoval(element);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    notifyVisibilityChange(oldValue, newValue) {\r\n        notifyListeners(this.onChangeVisibility, this, oldValue, newValue);\r\n    }\r\n\r\n /*   notifyIdChange(oldValue, newValue) {\r\n        notifyListeners(this.onChangeId, this, oldValue, newValue);\r\n    }*/\r\n\r\n    notifyElementAddition(addedElement) {\r\n        notifyListeners(this.onAddElement, this, addedElement);\r\n    }\r\n\r\n    notifyElementRemoval(removedElement) {\r\n        notifyListeners(this.onRemoveElement, this, removedElement);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/layer.js","/**\r\n * @license\r\n * Copyright (c) 2015 Example Corporation Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport {notifyListeners} from \"./util\";\r\nimport Layer from \"./layer\";\r\n\r\nexport default class AreaDefaults {\r\n\r\n    constructor() {\r\n        // Define a new object to store layers.\r\n        // It works like a map, but with complexity on search of O(1).\r\n        // The key is the layer id.\r\n        this._layers = {};\r\n        // Layer stack. It is used to define the drawing layerStack of the layers' elements.\r\n        this._layerStack = [];\r\n\r\n        // Id count.\r\n        this._elementIdCount = 1;\r\n        this._layerIdCount = 1;\r\n\r\n        // Layer-related event listeners.\r\n        // -----------------------------\r\n        // Functions that receive the area and the changed layer as arguments.\r\n        this._onAddLayer = null;\r\n        this._onRemoveLayer = null;\r\n        // Function that receives the area.\r\n        this._onChangeLayerOrder = null;\r\n\r\n        // Create a default layer that will be used if the user does not create a new one.\r\n        this.newLayer();\r\n    }\r\n\r\n    get bottomLayer() {\r\n        if (this._layerStack.length > 0) {\r\n            return this._layerStack[0];\r\n        }\r\n        throw \"The area has no layers.\";\r\n    }\r\n\r\n    get topLayer() {\r\n        if (this._layerStack.length > 0) {\r\n            return this._layerStack[this._layerStack.length - 1];\r\n        }\r\n        throw \"The area has no layers.\";\r\n    }\r\n\r\n    get onAddLayer() {\r\n        return this._onAddLayer;\r\n    }\r\n\r\n    set onAddLayer(value) {\r\n        if (typeof(value) !== 'function') {\r\n            throw \"The callback must be a function.\";\r\n        }\r\n        this._onAddLayer = value;\r\n    }\r\n\r\n    get onChangeLayerOrder() {\r\n        return this._onChangeLayerOrder;\r\n    }\r\n\r\n    set onChangeLayerOrder(value) {\r\n        if (typeof(value) !== 'function') {\r\n            throw \"The callback must be a function.\";\r\n        }\r\n        this._onChangeLayerOrder = value;\r\n    }\r\n\r\n    get onRemoveLayer() {\r\n        return this._onRemoveLayer;\r\n    }\r\n\r\n    set onRemoveLayer(value) {\r\n        if (typeof(value) !== 'function') {\r\n            throw \"The callback must be a function.\";\r\n        }\r\n        this._onRemoveLayer = value;\r\n    }\r\n\r\n    get elementIdCount() {\r\n        return this._elementIdCount;\r\n    }\r\n\r\n    get layerIdCount() {\r\n        return this._layerIdCount;\r\n    }\r\n\r\n    get layerStack() {\r\n        return this._layerStack;\r\n    }\r\n\r\n    /**\r\n     * Move the specified layer one position to the top of the layer stack.\r\n     * @param layer The layer that must be moved.\r\n     * @returns {boolean} true, if the layer was moved. false, otherwise.\r\n     */\r\n    moveLayerUp(layer) {\r\n        let layerPosition = this._layerStack.map(o => o.id).indexOf(layer.id);\r\n        // If it is not the layer at the top.\r\n        if (layerPosition < this._layerStack.length - 1) {\r\n            // Remove the layer from its position.\r\n            this._layerStack.splice(layerPosition, 1);\r\n            // Add the layer to the next position.\r\n            this._layerStack.splice(layerPosition + 1, 0, layer);\r\n            this.notifyLayerOrderChanging();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Move the specified layer one position to the bottom of the layer stack.\r\n     * @param layer The layer that must be moved.\r\n     * @returns {boolean} true, if the layer was moved. false, otherwise.\r\n     */\r\n    moveLayerDown(layer) {\r\n        let layerPosition = this._layerStack.map(o => o.id).indexOf(layer.id);\r\n        // If it is not the layer at the bottom.\r\n        if (layerPosition > 0) {\r\n            // Remove the layer from its position.\r\n            this._layerStack.splice(layerPosition, 1);\r\n            // Add the layer to the previous position.\r\n            this._layerStack.splice(layerPosition - 1, 0, layer);\r\n            this.notifyLayerOrderChanging();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Move the specified layer to the specified position of the layer stack.\r\n     * @param layer The layer that must be moved.\r\n     * @param targetPosition The position to which the layer has to be moved.\r\n     * @returns {boolean} true, if the layer was moved. false, otherwise.\r\n     */\r\n    moveLayerTo({layer, targetPosition} = {}) {\r\n        // Argument is not a layer.\r\n        if (!(layer instanceof Layer)) {\r\n            throw \"The element to be moved must be a layer\";\r\n        }\r\n        if (targetPosition < 0 || targetPosition >= this._layerStack.length) {\r\n            throw \"The position is invalid.\";\r\n        }\r\n        let layerPosition = this._layerStack.map(o => o.id).indexOf(layer.id);\r\n        // If it is not at the targeted position.\r\n        if (layerPosition !== targetPosition) {\r\n            // Remove the layer from its position.\r\n            this._layerStack.splice(layerPosition, 1);\r\n            // Add the layer to the targeted position.\r\n            this._layerStack.splice(targetPosition, 0, layer);\r\n            this.notifyLayerOrderChanging();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    newLayer() {\r\n        return this.addLayer(new Layer({id: this.generateLayerId()}));\r\n    }\r\n\r\n    addLayer(layer) {\r\n        // Argument is not a layer.\r\n        if (!(layer instanceof Layer)) {\r\n            throw \"Area's layers must be instances of Layer\";\r\n        }\r\n        // If a layer with the same id does not exist in the area, add it.\r\n        if (!(layer.id in this._layers)) {\r\n            this._layers[layer.id] = layer;\r\n            this._layerStack.push(layer);\r\n            this.notifyLayerAddition(layer);\r\n            return layer;\r\n        } else {\r\n            throw \"The area already has a layer with id \" + layer.id + \".\";\r\n        }\r\n    }\r\n\r\n    countLayers() {\r\n        return Object.keys(this._layers).length;\r\n    }\r\n\r\n    /**\r\n     * Return the layer that has the specified id.\r\n     * @param {string} id The layer id.\r\n     * @returns {Layer} The layer.\r\n     */\r\n    getLayer(id) {\r\n        return this._layers[id];\r\n    }\r\n\r\n    /**\r\n     * Return the layer that has the specified id.\r\n     * @param {string} id The layer id.\r\n     * @returns {Layer} The layer.\r\n     */\r\n    getLayerAt(position) {\r\n        if (position < 0 || position >= this._layerStack.length) {\r\n            throw \"The position is invalid.\";\r\n        }\r\n        return this._layerStack[position];\r\n    }\r\n\r\n    /**\r\n     * Return an array of layer ids.\r\n     * @returns {string[]} An array of layers id.\r\n     */\r\n    getLayersIds() {\r\n        return Object.keys(this._layers);\r\n    }\r\n\r\n    /**\r\n     * Remove the layer from the area if it exists.\r\n     * @param layer The layer that must be removed.\r\n     * @returns {boolean} true, if the layer was removed. false, otherwise.\r\n     */\r\n    removeLayer({layer} = {}) {\r\n        // Argument is not a layer.\r\n        if (!(layer instanceof Layer)) {\r\n            throw \"The element to be removed must be a layer\";\r\n        }\r\n        if (layer.id in this._layers) {\r\n            delete this._layers[layer.id];\r\n            this._layerStack.splice(this._layerStack.map(o => o.id).indexOf(layer.id), 1);\r\n            this.notifyLayerRemoval(layer);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    notifyLayerAddition(addedLayer) {\r\n        notifyListeners(this.onAddLayer, this, addedLayer);\r\n    }\r\n\r\n    notifyLayerRemoval(removedLayer) {\r\n        notifyListeners(this.onRemoveLayer, this, removedLayer);\r\n    }\r\n\r\n    notifyLayerOrderChanging() {    \r\n        notifyListeners(this.onChangeLayerOrder, this, null);\r\n    }\r\n\r\n    generateElementId() {\r\n        return \"e_\" + (this._elementIdCount++);\r\n    }\r\n\r\n    generateLayerId() {\r\n        return \"l_\" + (this._layerIdCount++);\r\n    }\r\n\r\n    toString() {\r\n        let result = \"Area with \" + this.countLayers() + \": \";\r\n        for (let i = 0; i < this.countLayers(); i++) {\r\n            let layer = this.getLayerAt({position: i});\r\n            if (layer == null) {\r\n                result += \"UND; \";\r\n            } else {\r\n                result += layer.id + \"; \";\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/area-defaults.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class RectanglePositionChangeListener extends GeneralPositionChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/rectangle-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class DiamondPositionChangeListener extends GeneralPositionChangeListener {\r\n\r\n    changeX(target) {\r\n        this.updateCoordinates(target);\r\n    }\r\n\r\n    changeY(target) {\r\n        this.updateCoordinates(target);\r\n    }\r\n\r\n    updateCoordinates(target) {\r\n        let middleX = target.x + target.width / 2;\r\n        let middleY = target.y + target.height / 2;\r\n        let coordinates = \"M \" + target.x + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + target.y;\r\n        coordinates += \" \" + (target.x + target.width) + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + (target.y + target.height);\r\n        // The left diamond corner was not being drawn correctly because of the border.\r\n        // To correct that, it was necessary to use the Pythagoras' theorem to move\r\n        // a little bit up.\r\n        let adjustment = Math.sqrt(target.borderSize * target.borderSize / 2);\r\n        coordinates += \" \" + (target.x - adjustment) + \",\" + (middleY - adjustment);\r\n        target.drawn.setAttribute(\"d\", coordinates);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/diamond-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class EllipsePositionChangeListener extends GeneralPositionChangeListener {\r\n\r\n    changeX(target) {\r\n        target.drawn.setAttribute(\"cx\", target.centerX);\r\n    }\r\n\r\n    changeY(target) {\r\n        target.drawn.setAttribute(\"cy\", target.centerY);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/ellipse-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class ImagePositionChangeListener extends GeneralPositionChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/image-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class TextPositionChangeListener extends GeneralPositionChangeListener {\r\n\r\n    changeY(target) {\r\n        // The hanging baseline-alignment was not working equally on all browsers.\r\n        // Because of that, the alignment was changed to baseline and now the\r\n        // text must be drawn based on its bottom y coordinate.\r\n\r\n        // 3/4 was used because the bottom-line alignment put the bottom part of\r\n        // letters such as p and q bellow the line.\r\n        target.drawn.setAttribute(\"y\", (target.y + 3 * target.height / 4));\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/text-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class LinePositionChangeListener extends GeneralPositionChangeListener {\r\n    update(target) {\r\n        // (-borderSize) was used because (+borderSize * 2) was used at line constructor so that the line has at least one pixel even if their initial and final coordinate are equal.\r\n        // The difference between no product and * 2 is necessary to center the line.\r\n        target.drawn.setAttribute(\"x1\", target.x1 + target.borderSize);\r\n        target.drawn.setAttribute(\"y1\", target.y1 + target.borderSize);\r\n        target.drawn.setAttribute(\"x2\", target.x2 - target.borderSize);\r\n        target.drawn.setAttribute(\"y2\", target.y2 - target.borderSize);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/line-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class PolyLinePositionChangeListener extends GeneralPositionChangeListener {\r\n    update(target) {\r\n        // Construct the path.\r\n        let path = \"M\";\r\n        for (let i = 0; i < target.countPoints(); i++) {\r\n            path += target.points[i].x + \" \" + target.points[i].y + \" L\";\r\n        }\r\n        path = path.substring(0, path.length - 2);\r\n\r\n        target.drawn.setAttribute(\"d\", path);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/polyline-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralPositionChangeListener from './general-position-change-listener.js';\r\n\r\nexport default class CirclePositionChangeListener extends GeneralPositionChangeListener {\r\n    changeX(target) {\r\n        target.drawn.setAttribute(\"cx\", target.centerX);\r\n    }\r\n\r\n    changeY(target) {\r\n        target.drawn.setAttribute(\"cy\", target.centerY);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/circle-position-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class RectangleDimensionChangeListener extends GeneralDimensionChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/rectangle-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class DiamondDimensionChangeListener extends GeneralDimensionChangeListener {\r\n\r\n    changeWidth(target) {\r\n        this.updateCoordinates(target);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        this.updateCoordinates(target);\r\n    }\r\n\r\n    updateCoordinates(target) {\r\n        let middleX = target.x + target.width / 2;\r\n        let middleY = target.y + target.height / 2;\r\n        let coordinates = \"M \" + target.x + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + target.y;\r\n        coordinates += \" \" + (target.x + target.width) + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + (target.y + target.height);\r\n        // The left diamond corner was not being drawn correctly because of the border.\r\n        // To correct that, it was necessary to use the Pythagoras' theorem to move\r\n        // a little bit up.\r\n        let adjustment = Math.sqrt(target.borderSize * target.borderSize / 2);\r\n        coordinates += \" \" + (target.x - adjustment) + \",\" + (middleY - adjustment);\r\n        target.drawn.setAttribute(\"d\", coordinates);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/diamond-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class EllipseDimensionChangeListener extends GeneralDimensionChangeListener {\r\n\r\n    changeWidth(target) {\r\n        target.drawn.setAttribute(\"cx\", target.centerX);\r\n        target.drawn.setAttribute(\"rx\", target.radiusX);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        target.drawn.setAttribute(\"cy\", target.centerY);\r\n        target.drawn.setAttribute(\"ry\", target.radiusY);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/ellipse-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class ImageDimensionChangeListener extends GeneralDimensionChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/image-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class TextDimensionChangeListener extends GeneralDimensionChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/text-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class CircleDimensionChangeListener extends GeneralDimensionChangeListener {\r\n\r\n    changeWidth(target) {\r\n        target.drawn.setAttribute(\"r\", target.radius);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        target.drawn.setAttribute(\"r\", target.radius);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/circle-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class LineDimensionChangeListener extends GeneralDimensionChangeListener {\r\n\r\n    changeWidth(target) {\r\n        // (-borderSize) was used because (+borderSize * 2) was used at line constructor so that the line has at least one pixel even if their initial and final coordinate are equal.\r\n        // The difference between no product and * 2 is necessary to center the line.\r\n        target.drawn.setAttribute(\"x2\", target.x2 - target.borderSize);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        // (-borderSize) was used because (+borderSize * 2) was used at line constructor so that the line has at least one pixel even if their initial and final coordinate are equal.\r\n        // The difference between no product and * 2 is necessary to center the line.\r\n        target.drawn.setAttribute(\"y2\", target.y2 - target.borderSize);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/line-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 09/01/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralDimensionChangeListener from './general-dimension-change-listener.js';\r\n\r\nexport default class PolyLineDimensionChangeListener extends GeneralDimensionChangeListener {\r\n\r\n    changeWidth(target) {\r\n        this.update(target);\r\n    }\r\n\r\n    changeHeight(target) {\r\n        this.update(target);\r\n    }\r\n\r\n    update(target) {\r\n        // Construct the path.\r\n        let path = \"M\";\r\n        for (let i = 0; i < target.countPoints(); i++) {\r\n            path += target.points[i].x + \" \" + target.points[i].y + \" L\";\r\n        }\r\n        path = path.substring(0, path.length - 2);\r\n\r\n        target.drawn.setAttribute(\"d\", path);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/polyline-dimension-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralRotationChangeListener from \"./general-rotation-change-listener\";\r\n\r\nexport default class VGroupRotationChangeListener extends GeneralRotationChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/vgroup-rotation-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GeneralRotationChangeListener from \"./general-rotation-change-listener\";\r\n\r\nexport default class LinearGroupRotationChangeListener extends GeneralRotationChangeListener {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/linear-group-rotation-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class TextChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.OTHER);\r\n    }\r\n\r\n    update(target) {\r\n        target.drawn.textContent = target.text;\r\n        // As the text changed, the graphical element minimum width and height must be updated.\r\n        let boundingBox = target.drawn.getBoundingClientRect();\r\n        target.disableChangeNotifications(); // Avoid stack overflow.\r\n        target.minWidth = boundingBox.width;\r\n        target.minHeight = boundingBox.height;\r\n        target.width = boundingBox.width;\r\n        target.height = boundingBox.height;\r\n        target.enableChangeNotifications();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/text-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from '../core/change-listener.js';\r\n\r\nexport default class FontChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.STYLING);\r\n    }\r\n\r\n    update(target) {\r\n        target.drawn.setAttribute(\"font-family\", target.fontStylingAttributes.family);\r\n        target.drawn.setAttribute(\"font-size\", target.fontStylingAttributes.size);\r\n        target.drawn.setAttribute(\"font-weight\", target.fontStylingAttributes.weight);\r\n        target.drawn.setAttribute(\"font-style\", target.fontStylingAttributes.style);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/font-change-listener.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport Circle from '../core/circle.js';\r\nimport DefaultCircleDrawer from './default-circle-drawer.js';\r\nimport Ellipse from '../core/ellipse.js';\r\nimport DefaultEllipseDrawer from './default-ellipse-drawer.js';\r\nimport Rectangle from '../core/rectangle.js';\r\nimport DefaultRectangleDrawer from './default-rectangle-drawer.js';\r\nimport Diamond from '../core/diamond.js';\r\nimport DefaultDiamondDrawer from './default-diamond-drawer.js';\r\nimport Text from '../core/text.js';\r\nimport DefaultTextDrawer from './default-text-drawer.js';\r\nimport VerticalGroup from '../core/vertical-group.js';\r\nimport DefaultVerticalGroupDrawer from './default-vertical-group-drawer.js';\r\nimport LinearGroup from '../core/linear-group.js';\r\nimport DefaultLinearGroupDrawer from './default-linear-group-drawer.js';\r\nimport Line from '../core/line.js';\r\nimport DefaultLineDrawer from './default-line-drawer.js';\r\nimport Image from '../core/image.js';\r\nimport DefaultImageDrawer from './default-image-drawer.js';\r\nimport DefaultPolyLineDrawer from \"./default-polyline-drawer\";\r\nimport PolyLine from \"../core/polyline\";\r\nimport BoxVerticesDecorator from \"../core/box-vertices-decorator\";\r\nimport DefaultBoxVerticesDecoratorDrawer from \"./default-box-vertices-decorator-drawer\";\r\n\r\n/**\r\n * This class implements a default look and feel factory.\r\n */\r\nexport default class DefaultLookAndFeelFactory {\r\n\r\n    getDrawerFor(element) {\r\n        if (Object.getPrototypeOf(element) === Circle.prototype) {\r\n            return new DefaultCircleDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Ellipse.prototype) {\r\n            return new DefaultEllipseDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Rectangle.prototype) {\r\n            return new DefaultRectangleDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Diamond.prototype) {\r\n            return new DefaultDiamondDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Text.prototype) {\r\n            return new DefaultTextDrawer();\r\n        } else if (Object.getPrototypeOf(element) === VerticalGroup.prototype) {\r\n            return new DefaultVerticalGroupDrawer();\r\n        } else if (Object.getPrototypeOf(element) === LinearGroup.prototype) {\r\n            return new DefaultLinearGroupDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Line.prototype) {\r\n            return new DefaultLineDrawer();\r\n        } else if (Object.getPrototypeOf(element) === PolyLine.prototype) {\r\n            return new DefaultPolyLineDrawer();\r\n        } else if (Object.getPrototypeOf(element) === Image.prototype) {\r\n            return new DefaultImageDrawer();\r\n        } else if (Object.getPrototypeOf(element) === BoxVerticesDecorator.prototype) {\r\n            return new DefaultBoxVerticesDecoratorDrawer();\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-look-and-feel-factory.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport CircleDimensionChangeListener from \"./circle-dimension-change-listener\";\r\nimport CirclePositionChangeListener from \"./circle-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultCircleDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newCircle = document.createElementNS(this.svgArea.namespace, \"circle\");\r\n        newCircle.setAttribute(\"id\", element.id);\r\n        newCircle.setAttribute(\"cx\", element.centerX);\r\n        newCircle.setAttribute(\"cy\", element.centerY);\r\n        newCircle.setAttribute(\"r\", element.radius);\r\n        newCircle.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newCircle.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new CircleDimensionChangeListener());\r\n        element.addChangeListener(new CirclePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newCircle;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-circle-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport EllipseDimensionChangeListener from \"./ellipse-dimension-change-listener\";\r\nimport EllipsePositionChangeListener from \"./ellipse-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultEllipseDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newEllipse = document.createElementNS(this.svgArea.namespace, \"ellipse\");\r\n        newEllipse.setAttribute(\"id\", element.id);\r\n        newEllipse.setAttribute(\"cx\", element.centerX);\r\n        newEllipse.setAttribute(\"cy\", element.centerY);\r\n        newEllipse.setAttribute(\"rx\", element.radiusX);\r\n        newEllipse.setAttribute(\"ry\", element.radiusY);\r\n        newEllipse.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newEllipse.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new EllipseDimensionChangeListener());\r\n        element.addChangeListener(new EllipsePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newEllipse;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-ellipse-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport RectangleDimensionChangeListener from \"./rectangle-dimension-change-listener\";\r\nimport RectanglePositionChangeListener from \"./rectangle-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultRectangleDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newRectangle = document.createElementNS(this.svgArea.namespace, \"rect\");\r\n        newRectangle.setAttribute(\"id\", element.id);\r\n        newRectangle.setAttribute(\"x\", element.x);\r\n        newRectangle.setAttribute(\"y\", element.y);\r\n        newRectangle.setAttribute(\"width\", element.width);\r\n        newRectangle.setAttribute(\"height\", element.height);\r\n        newRectangle.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newRectangle.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new RectangleDimensionChangeListener());\r\n        element.addChangeListener(new RectanglePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newRectangle;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-rectangle-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport DiamondDimensionChangeListener from \"./diamond-dimension-change-listener\";\r\nimport DiamondPositionChangeListener from \"./diamond-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultDiamondDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newDiamond = document.createElementNS(this.svgArea.namespace, \"path\");\r\n        newDiamond.setAttribute(\"id\", element.id);\r\n        let middleX = element.x + element.width / 2;\r\n        let middleY = element.y + element.height / 2;\r\n        let coordinates = \"M \" + element.x + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + element.y;\r\n        coordinates += \" \" + (element.x + element.width) + \",\" + middleY;\r\n        coordinates += \" \" + middleX + \",\" + (element.y + element.height);\r\n        // The left diamond corner was not being drawn correctly because of the border.\r\n        // To correct that, it was necessary to use the Pythagoras' theorem to move\r\n        // a little bit up.\r\n        let adjustment = Math.sqrt(element.borderSize * element.borderSize / 2);\r\n        coordinates += \" \" + (element.x - adjustment) + \",\" + (middleY - adjustment);\r\n        newDiamond.setAttribute(\"d\", coordinates);\r\n        newDiamond.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newDiamond.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new DiamondDimensionChangeListener());\r\n        element.addChangeListener(new DiamondPositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newDiamond;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-diamond-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport TextDimensionChangeListener from \"./text-dimension-change-listener\";\r\nimport TextPositionChangeListener from \"./text-position-change-listener\";\r\nimport TextChangeListener from \"./text-change-listener\";\r\nimport FontChangeListener from \"./font-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultTextDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newText = document.createElementNS(this.svgArea.namespace, \"text\");\r\n        newText.setAttribute(\"id\", element.id);\r\n\r\n        newText.setAttribute(\"x\", element.x);\r\n        // The hanging baseline-alignment was not working equally on all browsers.\r\n        // Because of that, the alignment was changed to baseline and now the\r\n        // text must be drawn based on its bottom y coordinate.\r\n\r\n        // 3/4 was used because the bottom-line alignment put the bottom part of\r\n        // letters such as p and q bellow the line.\r\n        newText.setAttribute(\"y\", element.y + 3 * element.height / 4);\r\n\r\n        newText.setAttribute(\"font-family\", element.fontStylingAttributes.family);\r\n        newText.setAttribute(\"font-size\", element.fontStylingAttributes.size);\r\n        newText.setAttribute(\"font-weight\", element.fontStylingAttributes.weight);\r\n        newText.setAttribute(\"font-style\", element.fontStylingAttributes.style);\r\n        newText.setAttribute(\"alignment-baseline\", \"baseline\");\r\n        newText.setAttribute(\"dominant-baseline\", \"baseline\");\r\n        newText.setAttribute(\"text-anchor\", \"start\");\r\n        newText.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newText.setAttribute(\"text-rendering\", \"optimizeLegibility\");\r\n\r\n        var textNode = document.createTextNode(element.text);\r\n        newText.appendChild(textNode);\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new TextDimensionChangeListener());\r\n        element.addChangeListener(new TextPositionChangeListener());\r\n        element.addChangeListener(new TextChangeListener());\r\n        element.addChangeListener(new FontChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newText;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-text-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport LookAndFeel from './look-and-feel.js';\r\nimport VGroupRotationChangeListener from \"./vgroup-rotation-change-listener\";\r\n\r\nexport default class DefaultVerticalGroupDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        var newGroup = document.createElementNS(this.svgArea.namespace, \"g\");\r\n        newGroup.setAttribute(\"id\", element.id);\r\n        newGroup.setAttribute('shape-rendering', 'inherit');\r\n        newGroup.setAttribute('pointer-events', 'all');\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n\r\n        if (element.frame !== null) {\r\n            let drawer = lookAndFeel.getDrawerFor(element.frame);\r\n            drawer.svgArea = this.svgArea;\r\n            var drawnFrame = drawer.draw(element.frame);\r\n            element.frame.drawn = drawnFrame;\r\n            newGroup.appendChild(drawnFrame);\r\n        }\r\n\r\n        let i = 0;\r\n        for (i = 0; i < element.countChildren(); i++) {\r\n            let child = element.getChildAt(i);\r\n            //let drawer = lookAndFeel.getDrawerFor(child);\r\n            //drawer.svgArea = this.svgArea;\r\n            //var drawnChild = drawer.draw(child);\r\n            //child.drawn = drawnChild;\r\n            //newGroup.appendChild(drawnChild);\r\n            newGroup.appendChild(child.drawn);\r\n        }\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new VGroupRotationChangeListener());\r\n\r\n        return newGroup;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-vertical-group-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport LookAndFeel from \"./look-and-feel\";\r\nimport LinearGroupRotationChangeListener from \"./linear-group-rotation-change-listener\";\r\n\r\nexport default class DefaultLinearGroupDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        var newGroup = document.createElementNS(this.svgArea.namespace, \"g\");\r\n        newGroup.setAttribute(\"id\", element.id);\r\n        newGroup.setAttribute('shape-rendering', 'inherit');\r\n        newGroup.setAttribute('pointer-events', 'all');\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n\r\n        if (element.verticalGroup.frame !== null) {\r\n            let drawer = lookAndFeel.getDrawerFor(element.verticalGroup.frame);\r\n            drawer.svgArea = this.svgArea;\r\n            var drawnFrame = drawer.draw(element.verticalGroup.frame);\r\n            element.verticalGroup.frame.drawn = drawnFrame;\r\n            newGroup.appendChild(drawnFrame);\r\n        }\r\n\r\n        let i = 0;\r\n        for (i = 0; i < element.verticalGroup.countChildren(); i++) {\r\n            let child = element.verticalGroup.getChildAt(i);\r\n/*\r\n            let drawer = lookAndFeel.getDrawerFor(child);\r\n            drawer.svgArea = this.svgArea;\r\n            var drawnChild = drawer.draw(child);\r\n            child.drawn = drawnChild;\r\n            newGroup.appendChild(drawnChild);\r\n*/\r\n            newGroup.appendChild(child.drawn);\r\n        }\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new LinearGroupRotationChangeListener());\r\n\r\n        return newGroup;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-linear-group-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport LineDimensionChangeListener from \"./line-dimension-change-listener\";\r\nimport LinePositionChangeListener from \"./line-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultLineDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newLine = document.createElementNS(this.svgArea.namespace, \"line\");\r\n        newLine.setAttribute(\"id\", element.id);\r\n        // (-borderSize) was used because (+borderSize * 2) was used at line constructor so that the line has at least one pixel even if their initial and final coordinate are equal.\r\n        // The difference between no product and * 2 is necessary to center the line.\r\n        newLine.setAttribute(\"x1\", element.x1 + element.borderSize);\r\n        newLine.setAttribute(\"y1\", element.y1 + element.borderSize);\r\n        newLine.setAttribute(\"x2\", element.x2 - element.borderSize);\r\n        newLine.setAttribute(\"y2\", element.y2 - element.borderSize);\r\n        newLine.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newLine.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new LineDimensionChangeListener());\r\n        element.addChangeListener(new LinePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newLine;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-line-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport StyleChangeListener from \"./style-change-listener\";\r\nimport ImagePositionChangeListener from \"./image-position-change-listener\";\r\nimport ImageDimensionChangeListener from \"./image-dimension-change-listener\";\r\n\r\nexport default class DefaultImageDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        let newImage = document.createElementNS(this.svgArea.namespace, \"image\");\r\n        newImage.setAttribute(\"id\", element.id);\r\n        newImage.setAttribute(\"x\", element.x);\r\n        newImage.setAttribute(\"y\", element.y);\r\n        newImage.setAttribute(\"width\", element.width);\r\n        newImage.setAttribute(\"height\", element.height);\r\n        newImage.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newImage.setAttribute(\"visibility\", \"visible\");\r\n        newImage.setAttributeNS('http://www.w3.org/1999/xlink', 'href', element.image);\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new ImageDimensionChangeListener());\r\n        element.addChangeListener(new ImagePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newImage;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-image-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport PolyLineDimensionChangeListener from \"./polyline-dimension-change-listener\";\r\nimport PolyLinePositionChangeListener from \"./polyline-position-change-listener\";\r\nimport StyleChangeListener from \"./style-change-listener\";\r\n\r\nexport default class DefaultPolyLineDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    static generatePath(polyLine) {\r\n        let path = \"M\";\r\n        for (let i = 0; i < polyLine.countPoints(); i++) {\r\n            path += polyLine.points[i].x + \" \" + polyLine.points[i].y + \" L\";\r\n        }\r\n        return path.substring(0, path.length - 2);\r\n    }\r\n\r\n    draw(element) {\r\n        let newPath = document.createElementNS(this.svgArea.namespace, \"path\");\r\n        newPath.setAttribute(\"id\", element.id);\r\n\r\n        // Construct the path.\r\n        let path = DefaultPolyLineDrawer.generatePath(element);\r\n\r\n        newPath.setAttribute(\"d\", path);\r\n        newPath.setAttribute(\"style\", element.stylingAttributes.toString());\r\n        newPath.setAttribute(\"shape-rendering\", \"geometricPrecision\");\r\n\r\n        //*****************************\r\n        // Add change listeners.\r\n        element.addChangeListener(new PolyLineDimensionChangeListener());\r\n        element.addChangeListener(new PolyLinePositionChangeListener());\r\n        element.addChangeListener(new StyleChangeListener());\r\n\r\n        return newPath;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-polyline-drawer.js","/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n'use strict';\r\n\r\nimport DefaultDrawer from './default-drawer.js';\r\nimport LookAndFeel from './look-and-feel.js';\r\nimport Rectangle from \"../core/rectangle\";\r\nimport StylingAttributes from \"../core/styling-attributes\";\r\nimport BoxVerticesDecorator from \"../core/box-vertices-decorator\";\r\nimport ChangeListener from \"../core/change-listener\";\r\nimport BoxVerticesDecoratorChangeListener from \"./box-vertices-decorator-change-listener\";\r\nimport BoxVerticesDecoratorDecoratedRotationChangeListener from \"../core/box-vertices-decorator-decorated-rotation-change-listener\";\r\nimport BoxVerticesDecoratorDecoratedPositionChangeListener from \"../core/box-vertices-decorator-decorated-position-change-listener\";\r\nimport BoxVerticesDecoratorDecoratedDimensionChangeListener from \"../core/box-vertices-decorator-decorated-dimension-change-listener\";\r\nimport GraphicalElement from \"../core/graphical-element\";\r\n\r\nexport default class DefaultBoxVerticesDecoratorDrawer extends DefaultDrawer {\r\n\r\n    constructor(svgArea) {\r\n        super(svgArea);\r\n    }\r\n\r\n    draw(element) {\r\n        var newGroup = document.createElementNS(this.svgArea.namespace, \"g\");\r\n        newGroup.setAttribute(\"id\", element.id);\r\n        newGroup.setAttribute('shape-rendering', 'inherit');\r\n        newGroup.setAttribute('pointer-events', 'all');\r\n\r\n        if (element.decorated !== null) {\r\n            newGroup.appendChild(element.decorated.drawn);\r\n\r\n            // Copy the decorated position before removing its listeners.\r\n            element.x = element.decorated.x;\r\n            element.y = element.decorated.y;\r\n            element.width = element.decorated.width;\r\n            element.height = element.decorated.height;\r\n            element.decorated.disableChangeNotifications();\r\n            element.decorated.x = 0;\r\n            element.decorated.y = 0;\r\n            element.decorated.enableChangeNotifications();\r\n            element.decorated.notifyListeners(ChangeListener.POSITION);\r\n\r\n            //*****************************\r\n            // Remove the decorated listeners related to position, dimension, and rotation.\r\n            // These events will be handled by the decorator group.\r\n            element.decorated.removeChangeListenerByType(ChangeListener.POSITION, ChangeListener.ROTATION);\r\n            element.decorated.addChangeListener(new BoxVerticesDecoratorDecoratedPositionChangeListener(element));\r\n            element.decorated.addChangeListener(new BoxVerticesDecoratorDecoratedRotationChangeListener(element));\r\n            element.decorated.addChangeListener(new BoxVerticesDecoratorDecoratedDimensionChangeListener(element));\r\n        }\r\n\r\n        //*****************************\r\n        // Add group change listeners.\r\n        element.addChangeListener(new BoxVerticesDecoratorChangeListener());\r\n\r\n        let vertexSize = element.vertexSize;\r\n        let halfSize = (vertexSize - 1) / 2;\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let stylingAttributes = new StylingAttributes(0, \"black\", \"black\");\r\n\r\n        // Draw the box vertices.\r\n        if (element.topLeft) {\r\n            let vertexTL = new Rectangle(0 - halfSize, 0 - halfSize, 0 + halfSize, 0 + halfSize, stylingAttributes);\r\n            vertexTL.tag = BoxVerticesDecorator.TOP_LEFT;\r\n            vertexTL.addTag(BoxVerticesDecorator.VERTEX, true);\r\n            vertexTL.addTag(GraphicalElement.PARENT, element);\r\n            let drawerTL = lookAndFeel.getDrawerFor(vertexTL);\r\n            drawerTL.svgArea = this.svgArea;\r\n            var drawnChildTL = drawerTL.draw(vertexTL);\r\n            vertexTL.drawn = drawnChildTL;\r\n            newGroup.appendChild(drawnChildTL);\r\n            this.registerEvents(vertexTL, drawnChildTL, element);\r\n            element.topLeftVertex = vertexTL;\r\n        }\r\n        if (element.topRight) {\r\n            let vertexTR = new Rectangle(element.width - halfSize, 0 - halfSize, element.width + halfSize, 0 + halfSize, stylingAttributes);\r\n            vertexTR.tag = BoxVerticesDecorator.TOP_RIGHT;\r\n            vertexTR.addTag(BoxVerticesDecorator.VERTEX, true);\r\n            vertexTR.addTag(GraphicalElement.PARENT, element);\r\n            let drawerTR = lookAndFeel.getDrawerFor(vertexTR);\r\n            drawerTR.svgArea = this.svgArea;\r\n            var drawnChildTR = drawerTR.draw(vertexTR);\r\n            vertexTR.drawn = drawnChildTR;\r\n            newGroup.appendChild(drawnChildTR);\r\n            this.registerEvents(vertexTR, drawnChildTR, element);\r\n            element.topRightVertex = vertexTR;\r\n        }\r\n        if (element.bottomLeft) {\r\n            let vertexBL = new Rectangle(0 - halfSize, element.height - halfSize, 0 + halfSize, element.height + halfSize, stylingAttributes);\r\n            vertexBL.tag = BoxVerticesDecorator.BOTTOM_LEFT;\r\n            vertexBL.addTag(BoxVerticesDecorator.VERTEX, true);\r\n            vertexBL.addTag(GraphicalElement.PARENT, element);\r\n            let drawerBL = lookAndFeel.getDrawerFor(vertexBL);\r\n            drawerBL.svgArea = this.svgArea;\r\n            var drawnChildBL = drawerBL.draw(vertexBL);\r\n            vertexBL.drawn = drawnChildBL;\r\n            newGroup.appendChild(drawnChildBL);\r\n            this.registerEvents(vertexBL, drawnChildBL, element);\r\n            element.bottomLeftVertex = vertexBL;\r\n        }\r\n        if (element.bottomRight) {\r\n            let vertexBR = new Rectangle(element.width - halfSize, element.height - halfSize, element.width + halfSize, element.height + halfSize, stylingAttributes);\r\n            vertexBR.tag = BoxVerticesDecorator.BOTTOM_RIGHT;\r\n            vertexBR.addTag(BoxVerticesDecorator.VERTEX, true);\r\n            vertexBR.addTag(GraphicalElement.PARENT, element);\r\n            let drawerBR = lookAndFeel.getDrawerFor(vertexBR);\r\n            drawerBR.svgArea = this.svgArea;\r\n            var drawnChildBR = drawerBR.draw(vertexBR);\r\n            vertexBR.drawn = drawnChildBR;\r\n            newGroup.appendChild(drawnChildBR);\r\n            this.registerEvents(vertexBR, drawnChildBR, element);\r\n            element.bottomRightVertex = vertexBR;\r\n        }\r\n\r\n        return newGroup;\r\n    }\r\n\r\n    registerEvents(model, drawn, decorator) {\r\n        drawn.onclick = model.fireOnClick.bind(model);\r\n        model.onClick = decorator.dispathOnVertexClick.bind(decorator);\r\n        drawn.ondblclick = model.fireOnDblClick.bind(model);\r\n        model.onDblClick = decorator.dispathOnVertexDblClick.bind(decorator);\r\n        drawn.onmousedown = model.fireOnMouseDown.bind(model);\r\n        model.onMouseDown = decorator.dispathOnVertexMouseDown.bind(decorator);\r\n        drawn.onmousemove = model.fireOnMouseMove.bind(model);\r\n        model.onMouseMove = decorator.dispathOnVertexMouseMove.bind(decorator);\r\n        drawn.onmouseup = model.fireOnMouseUp.bind(model);\r\n        model.onMouseUp = decorator.dispathOnVertexMouseUp.bind(decorator);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/default-box-vertices-decorator-drawer.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport ChangeListener from \"../core/change-listener\";\r\n\r\nexport default class BoxVerticesDecoratorChangeListener extends ChangeListener {\r\n\r\n    constructor() {\r\n        super(ChangeListener.POSITION, ChangeListener.ROTATION);\r\n    }\r\n\r\n    update(target) {\r\n        target.drawn.setAttribute(\"transform\", \"translate(\" + target.x + \", \" + target.y + \") rotate(\" + target.rotation + \" \" + target.rotationCenterX + \" \" + target.rotationCenterY + \")\");\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/box-vertices-decorator-change-listener.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 08/06/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nimport Circle from '../core/circle.js';\r\nimport Ellipse from '../core/ellipse.js';\r\nimport Rectangle from '../core/rectangle.js';\r\nimport Diamond from '../core/diamond.js';\r\nimport Text from '../core/text.js';\r\nimport Image from '../core/image.js';\r\nimport VerticalGroup from '../core/vertical-group.js';\r\nimport LinearGroup from '../core/linear-group.js';\r\nimport Line from '../core/line.js';\r\nimport LookAndFeel from './look-and-feel.js';\r\nimport GroupStylingAttributes from '../core/group-styling-attributes.js';\r\nimport FontStylingAttributes from '../core/font-styling-attributes.js';\r\nimport PolyLine from \"../core/polyline\";\r\nimport BoxVerticesDecorator from \"../core/box-vertices-decorator\";\r\nimport ChangeListener from \"../core/change-listener\";\r\nimport AreaDefaults from \"../core/area-defaults\";\r\nimport {notifyListeners} from \"../core/util\";\r\nimport StylingAttributes from \"../core/styling-attributes\";\r\n\r\nexport default class SVGArea extends AreaDefaults {\r\n\r\n    constructor(svgSelector = \"#svg\") {\r\n        super();\r\n\r\n        this._svg = document.querySelector(svgSelector);\r\n        this._namespace = \"http://www.w3.org/2000/svg\";\r\n        this._elements = [];\r\n\r\n        // Avoid text selection when dragging and dropping on the area.\r\n        Object.assign(this._svg.style, {\r\n            'cursor': 'default',\r\n            '-webkit-user-select': 'none',\r\n            '-moz-user-select': 'none',\r\n            '-ms-user-select': 'none',\r\n            'user-select': 'none'\r\n        });\r\n\r\n        // Events' callback functions.\r\n        // The functions receive four attributes: the element in which the event occurred,\r\n        // the mouse x-coordinate, the mouse y-coordinate, and the event object.\r\n        this._onClick = null;\r\n        this._onDblClick = null;\r\n        this._onMouseDown = null;\r\n        this._onMouseMove = null;\r\n        this._onMouseUp = null;\r\n\r\n        // Register methods in this class as callbacks for the HTML SVG element.\r\n        this._svg.onclick = this.fireOnClick.bind(this);\r\n        this._svg.ondblclick = this.fireOnDblClick.bind(this);\r\n        this._svg.onmousedown = this.fireOnMouseDown.bind(this);\r\n        this._svg.onmousemove = this.fireOnMouseMove.bind(this);\r\n        this._svg.onmouseup = this.fireOnMouseUp.bind(this);\r\n    }\r\n\r\n    static get LAYER() {\r\n        return \"layer\";\r\n    }\r\n\r\n    get svg() {\r\n        return this._svg;\r\n    }\r\n\r\n    get namespace() {\r\n        return this._namespace;\r\n    }\r\n\r\n    get elements() {\r\n        return this._elements;\r\n    }\r\n\r\n    get onClick() {\r\n        return this._onClick;\r\n    }\r\n\r\n    set onClick(value) {\r\n        this._onClick = value;\r\n    }\r\n\r\n    get onDblClick() {\r\n        return this._onDblClick;\r\n    }\r\n\r\n    set onDblClick(value) {\r\n        this._onDblClick = value;\r\n    }\r\n\r\n    get onMouseDown() {\r\n        return this._onMouseDown;\r\n    }\r\n\r\n    set onMouseDown(value) {\r\n        this._onMouseDown = value;\r\n    }\r\n\r\n    get onMouseMove() {\r\n        return this._onMouseMove;\r\n    }\r\n\r\n    set onMouseMove(value) {\r\n        this._onMouseMove = value;\r\n    }\r\n\r\n    get onMouseUp() {\r\n        return this._onMouseUp;\r\n    }\r\n\r\n    set onMouseUp(value) {\r\n        this._onMouseUp = value;\r\n    }\r\n\r\n    addLayer(layer) {\r\n        layer.onChangeVisibility = this.handleLayerVisibilityChange.bind(this);\r\n        return super.addLayer({layer: layer});\r\n    }\r\n\r\n    handleLayerVisibilityChange(layer, oldValue, newValue) {\r\n        if (oldValue !== newValue) {\r\n            if (newValue === true) {\r\n                // Make all elements in the layer visible.\r\n                Object.keys(layer.elements).forEach(function (id) {\r\n                    layer.getElement(id).stylingAttributes.visible = true;\r\n                });\r\n            } else {\r\n                // Hide all elements in the layer.\r\n                Object.keys(layer.elements).forEach(function (id) {\r\n                    layer.getElement(id).stylingAttributes.visible = false;\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    // Callback methods called by HTML SVG element events.\r\n    fireOnClick(event) {\r\n        notifyListeners(this._onClick, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnDblClick(event) {\r\n        notifyListeners(this._onDblClick, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseDown(event) {\r\n        notifyListeners(this._onMouseDown, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseMove(event) {\r\n        notifyListeners(this._onMouseMove, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    fireOnMouseUp(event) {\r\n        notifyListeners(this._onMouseUp, this, event.clientX, event.clientY, event);\r\n    }\r\n\r\n    addElement(element, layer) {\r\n        if (!layer || layer === null) {\r\n            layer = this.firstLayer;\r\n        }\r\n        element.addTag(SVGArea.LAYER, layer);\r\n        layer.addElement(element);\r\n        return element;\r\n    }\r\n\r\n    removeElement(element) {\r\n        element.getTag(SVGArea.LAYER).removeElement(element);\r\n        this.svg.removeChild(element.drawn);\r\n    }\r\n\r\n    /**\r\n     * Draw a new circle with the specified parameters.\r\n     * @param centerX\r\n     * @param centerY\r\n     * @param radius\r\n     * @param layer\r\n     */\r\n    circ({centerX = 0, centerY = 0, radius = 7, layer = this.topLayer} = {}) {\r\n        //*****************************\r\n        // Create a new circle and set its id.\r\n        let newCircle = new Circle(centerX, centerY, radius);\r\n        newCircle.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newCircle);\r\n        drawer.svgArea = this;\r\n        let drawnCircle = drawer.draw(newCircle);\r\n        this.svg.appendChild(drawnCircle);\r\n\r\n        newCircle.drawn = drawnCircle;\r\n\r\n        this.registerEvents(newCircle, drawnCircle);\r\n\r\n        return this.addElement(newCircle, layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link circ}\r\n     */\r\n    circle(parameterObject) {\r\n        return this.circ(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new ellipse with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: centerX, centerY, radiusX, radiusY, preserveAspectRatio, and layer.\r\n     */\r\n    ellipse(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('centerX' in parameterObject)) {\r\n            parameterObject.centerX = 50;\r\n        }\r\n        if (!('centerY' in parameterObject)) {\r\n            parameterObject.centerY = 50;\r\n        }\r\n        if (!('radiusX' in parameterObject)) {\r\n            parameterObject.radiusX = 100;\r\n        }\r\n        if (!('radiusY' in parameterObject)) {\r\n            parameterObject.radiusY = 50;\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new ellipse and set its id.\r\n        let newEllipse = new Ellipse(parameterObject.centerX, parameterObject.centerY, parameterObject.radiusX, parameterObject.radiusY);\r\n        newEllipse.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newEllipse);\r\n        drawer.svgArea = this;\r\n        let drawnEllipse = drawer.draw(newEllipse);\r\n        this.svg.appendChild(drawnEllipse);\r\n\r\n        newEllipse.drawn = drawnEllipse;\r\n\r\n        this.registerEvents(newEllipse, drawnEllipse);\r\n\r\n        return this.addElement(newEllipse, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * Draw a new rectangle with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x1, y1, x2, y2, and layer.\r\n     */\r\n    rect(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x1' in parameterObject)) {\r\n            parameterObject.x1 = 10;\r\n        }\r\n        if (!('y1' in parameterObject)) {\r\n            parameterObject.y1 = 10;\r\n        }\r\n        if (!('x2' in parameterObject)) {\r\n            parameterObject.x2 = 10;\r\n        }\r\n        if (!('y2' in parameterObject)) {\r\n            parameterObject.y2 = 10;\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new rectangle and set its id.\r\n        let newRectangle = new Rectangle(parameterObject.x1, parameterObject.y1, parameterObject.x2, parameterObject.y2);\r\n        newRectangle.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newRectangle);\r\n        drawer.svgArea = this;\r\n        let drawnRectangle = drawer.draw(newRectangle);\r\n        this.svg.appendChild(drawnRectangle);\r\n\r\n        newRectangle.drawn = drawnRectangle;\r\n\r\n        this.registerEvents(newRectangle, drawnRectangle);\r\n\r\n        return this.addElement(newRectangle, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link rect}\r\n     */\r\n    rectangle(parameterObject) {\r\n        return this.rect(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new diamond with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x1, y1, width, height, preserveAspectRatio, stylingAttributes, and layer.\r\n     */\r\n    diamond(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x1' in parameterObject)) {\r\n            parameterObject.x1 = 10;\r\n        }\r\n        if (!('y1' in parameterObject)) {\r\n            parameterObject.y1 = 10;\r\n        }\r\n        if (!('width' in parameterObject)) {\r\n            parameterObject.width = 50;\r\n        }\r\n        if (!('height' in parameterObject)) {\r\n            parameterObject.height = 50;\r\n        }\r\n        if (!('preserveAspectRatio' in parameterObject)) {\r\n            parameterObject.preserveAspectRatio = true;\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes();\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new diamond and set its id.\r\n        let newDiamond = new Diamond(parameterObject.x1, parameterObject.y1, parameterObject.width, parameterObject.height, parameterObject.preserveAspectRatio, parameterObject.stylingAttributes);\r\n        newDiamond.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newDiamond);\r\n        drawer.svgArea = this;\r\n        let drawnDiamond = drawer.draw(newDiamond);\r\n        this.svg.appendChild(drawnDiamond);\r\n\r\n        newDiamond.drawn = drawnDiamond;\r\n\r\n        this.registerEvents(newDiamond, drawnDiamond);\r\n\r\n        return this.addElement(newDiamond, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * Draw a new text with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x, y, text, stylingAttributes, fontStylingAttributes, and layer.\r\n     */\r\n    txt(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x' in parameterObject)) {\r\n            parameterObject.x = 10;\r\n        }\r\n        if (!('y' in parameterObject)) {\r\n            parameterObject.y = 10;\r\n        }\r\n        if (!('text' in parameterObject)) {\r\n            parameterObject.text = \"This is an example text\";\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes(1, \"black\", \"black\");\r\n        }\r\n        if (!('fontStylingAttributes' in parameterObject)) {\r\n            parameterObject.fontStylingAttributes = new FontStylingAttributes();\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new text and set its id.\r\n        let newText = new Text(parameterObject.x, parameterObject.y, parameterObject.text, parameterObject.stylingAttributes, parameterObject.fontStylingAttributes);\r\n        newText.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newText);\r\n        drawer.svgArea = this;\r\n        let drawnText = drawer.draw(newText);\r\n        this.svg.appendChild(drawnText);\r\n\r\n        newText.drawn = drawnText;\r\n        newText.text = parameterObject.text; // Recalculate the text width calling a listener.\r\n\r\n        this.registerEvents(newText, drawnText);\r\n\r\n        return this.addElement(newText, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link txt}\r\n     */\r\n    text(parameterObject) {\r\n        return this.txt(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new image with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x, y, width, height, image, and layer.\r\n     */\r\n    img(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x' in parameterObject)) {\r\n            parameterObject.x = 10;\r\n        }\r\n        if (!('y' in parameterObject)) {\r\n            parameterObject.y = 10;\r\n        }\r\n        if (!('width' in parameterObject)) {\r\n            parameterObject.width = 50;\r\n        }\r\n        if (!('height' in parameterObject)) {\r\n            parameterObject.height = 50;\r\n        }\r\n        if (!('image' in parameterObject)) {\r\n            parameterObject.image = null;\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new image and set its id.\r\n        let newImage = new Image(parameterObject.x, parameterObject.y, parameterObject.width, parameterObject.height, parameterObject.image);\r\n        newImage.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newImage);\r\n        drawer.svgArea = this;\r\n        let drawnImage = drawer.draw(newImage);\r\n        this.svg.appendChild(drawnImage);\r\n\r\n        newImage.drawn = drawnImage;\r\n\r\n        this.registerEvents(newImage, drawnImage);\r\n\r\n        return this.addElement(newImage, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link img}\r\n     */\r\n    image(parameterObject) {\r\n        return this.img(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new vertical group with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x, y, stylingAttributes, groupStylingAttributes, and layer.\r\n     */\r\n    vGroup(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x' in parameterObject)) {\r\n            parameterObject.x = 10;\r\n        }\r\n        if (!('y' in parameterObject)) {\r\n            parameterObject.y = 10;\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes();\r\n        }\r\n        if (!('groupStylingAttributes' in parameterObject)) {\r\n            parameterObject.groupStylingAttributes = new GroupStylingAttributes();\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new vertical group and set its id.\r\n        let newVGroup = new VerticalGroup(parameterObject.x, parameterObject.y, parameterObject.stylingAttributes, parameterObject.groupStylingAttributes);\r\n        newVGroup.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newVGroup);\r\n        drawer.svgArea = this;\r\n        let drawnVGroup = drawer.draw(newVGroup);\r\n        this.svg.appendChild(drawnVGroup);\r\n\r\n        newVGroup.drawn = drawnVGroup;\r\n\r\n        this.registerEvents(newVGroup, drawnVGroup);\r\n\r\n        return this.addElement(newVGroup, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link vGroup}\r\n     */\r\n    verticalGroup(parameterObject) {\r\n        return this.vGroup(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new linear group with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x1, y1, x2, y2, stylingAttributes, groupStylingAttributes, and layer.\r\n     */\r\n    lGroup(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x1' in parameterObject)) {\r\n            parameterObject.x1 = 10;\r\n        }\r\n        if (!('y1' in parameterObject)) {\r\n            parameterObject.y1 = 10;\r\n        }\r\n        if (!('x2' in parameterObject)) {\r\n            parameterObject.x2 = 100;\r\n        }\r\n        if (!('y2' in parameterObject)) {\r\n            parameterObject.y2 = 100;\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes();\r\n        }\r\n        if (!('groupStylingAttributes' in parameterObject)) {\r\n            parameterObject.groupStylingAttributes = new GroupStylingAttributes(0, 0);\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new linear group and set its id.\r\n        let newLinearGroup = new LinearGroup(parameterObject.x1, parameterObject.y1, parameterObject.x2, parameterObject.y2, parameterObject.stylingAttributes, parameterObject.groupStylingAttributes);\r\n        newLinearGroup.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newLinearGroup);\r\n        drawer.svgArea = this;\r\n        let drawnLinearGroup = drawer.draw(newLinearGroup);\r\n        this.svg.appendChild(drawnLinearGroup);\r\n\r\n        newLinearGroup.drawn = drawnLinearGroup;\r\n\r\n        this.registerEvents(newLinearGroup, drawnLinearGroup);\r\n\r\n        return this.addElement(newLinearGroup, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * @see {@link lGroup}\r\n     */\r\n    linearGroup(parameterObject) {\r\n        return this.lGroup(parameterObject);\r\n    }\r\n\r\n    /**\r\n     * Draw a new line with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: x1, y1, x2, y2, stylingAttributes, and layer.\r\n     */\r\n    line(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('x1' in parameterObject)) {\r\n            parameterObject.x1 = 10;\r\n        }\r\n        if (!('y1' in parameterObject)) {\r\n            parameterObject.y1 = 10;\r\n        }\r\n        if (!('x2' in parameterObject)) {\r\n            parameterObject.x2 = 100;\r\n        }\r\n        if (!('y2' in parameterObject)) {\r\n            parameterObject.y2 = 10;\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes();\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new line and set its id.\r\n        let newLine = new Line(parameterObject.x1, parameterObject.y1, parameterObject.x2, parameterObject.y2, parameterObject.stylingAttributes);\r\n        newLine.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newLine);\r\n        drawer.svgArea = this;\r\n        let drawnLine = drawer.draw(newLine);\r\n        this.svg.appendChild(drawnLine);\r\n\r\n        newLine.drawn = drawnLine;\r\n\r\n        this.registerEvents(newLine, drawnLine);\r\n\r\n        return this.addElement(newLine, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * Draw a new poly line with the specified parameters.\r\n     * @param parameterObject An object with the following optional attributes: stylingAttributes and layer.\r\n     * @param pairOfCoordinates An undefined odd number of coordinates (x and y).\r\n     */\r\n    polyLine(parameterObject, pairOfCoordinates) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('stylingAttributes' in parameterObject)) {\r\n            parameterObject.stylingAttributes = new StylingAttributes(1, \"black\", \"none\");\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new line and set its id.\r\n        let coordinates = Array.from(arguments).slice(1);\r\n        let newPolyline = new PolyLine(parameterObject.stylingAttributes, coordinates);\r\n        newPolyline.id = this.generateElementId();\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newPolyline);\r\n        drawer.svgArea = this;\r\n        let drawnLine = drawer.draw(newPolyline);\r\n        this.svg.appendChild(drawnLine);\r\n\r\n        newPolyline.drawn = drawnLine;\r\n\r\n        this.registerEvents(newPolyline, drawnLine);\r\n\r\n        return this.addElement(newPolyline, parameterObject.layer);\r\n    }\r\n\r\n    /**\r\n     * Draw a new box vertices decorator with the specified parameters.\r\n     * @param parameterObject An object with the following required attributes: decorated; and the following optional attributes: layer.\r\n     */\r\n    boxVerticesDecorator(parameterObject) {\r\n        if(!parameterObject || parameterObject === null) {\r\n            parameterObject = {};\r\n        }\r\n        if (!('decorated' in parameterObject)) {\r\n            throw \"An object to decorated is required to create a new Box Vertices Decorator\";\r\n        }\r\n        if (!('layer' in parameterObject)) {\r\n            parameterObject.layer = this.topLayer;\r\n        }\r\n\r\n        //*****************************\r\n        // Create a new box vertices decorator and set its id.\r\n        let newBoxVerticesDecorator = new BoxVerticesDecorator(parameterObject.decorated);\r\n        newBoxVerticesDecorator.id = parameterObject.decorated.id;\r\n\r\n        let lookAndFeel = new LookAndFeel();\r\n        let drawer = lookAndFeel.getDrawerFor(newBoxVerticesDecorator);\r\n        drawer.svgArea = this;\r\n        let drawnBoxVerticesDecorator = drawer.draw(newBoxVerticesDecorator);\r\n        this.svg.appendChild(drawnBoxVerticesDecorator);\r\n\r\n        newBoxVerticesDecorator.drawn = drawnBoxVerticesDecorator;\r\n        newBoxVerticesDecorator.notifyListeners(ChangeListener.POSITION, ChangeListener.DIMENSION);\r\n\r\n        this.registerEvents(newBoxVerticesDecorator, drawnBoxVerticesDecorator);\r\n\r\n        return this.addElement(newBoxVerticesDecorator, parameterObject.layer);\r\n    }\r\n\r\n    registerEvents(model, drawn) {\r\n        drawn.onclick = model.fireOnClick.bind(model);\r\n        drawn.ondblclick = model.fireOnDblClick.bind(model);\r\n        drawn.onmousedown = model.fireOnMouseDown.bind(model);\r\n        drawn.onmousemove = model.fireOnMouseMove.bind(model);\r\n        drawn.onmouseup = model.fireOnMouseUp.bind(model);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg/svg-area.js","// Util.\r\nimport Util from \"./src/js/core/util.js\";\r\n// Graphical primitives.\r\nimport Point from \"./src/js/core/point.js\";\r\nimport BoundingBox from \"./src/js/core/bounding-box.js\";\r\nimport GraphicalElement from \"./src/js/core/graphical-element.js\";\r\nimport Circle from \"./src/js/core/circle.js\";\r\nimport Ellipse from \"./src/js/core/ellipse.js\";\r\nimport Rectangle from \"./src/js/core/rectangle.js\";\r\nimport Diamond from \"./src/js/core/diamond.js\";\r\nimport Text from \"./src/js/core/text.js\";\r\nimport Line from \"./src/js/core/line.js\";\r\nimport PolyLine from \"./src/js/core/polyline.js\";\r\nimport Image from \"./src/js/core/image.js\";\r\nimport VerticalGroup from \"./src/js/core/vertical-group.js\";\r\nimport ChangeListener from \"./src/js/core/change-listener.js\";\r\nimport VerticalGroupChangeListener from \"./src/js/core/vertical-group-child-change-listener.js\";\r\nimport LinearGroup from \"./src/js/core/linear-group.js\";\r\nimport StylingAttributes from \"./src/js/core/styling-attributes.js\";\r\nimport GroupStylingAttributes from \"./src/js/core/group-styling-attributes.js\";\r\nimport FontStylingAttributes from \"./src/js/core/font-styling-attributes.js\";\r\nimport GraphicalElementDecorator from \"./src/js/core/graphical-element-decorator.js\";\r\nimport BoxVerticesDecorator from \"./src/js/core/box-vertices-decorator.js\";\r\nimport BoxVerticesDecoratorDecoratedPositionChangeListener from \"./src/js/core/box-vertices-decorator-decorated-position-change-listener.js\";\r\nimport BoxVerticesDecoratorDecoratedRotationChangeListener from \"./src/js/core/box-vertices-decorator-decorated-rotation-change-listener.js\";\r\nimport BoxVerticesDecoratorDecoratedDimensionChangeListener from \"./src/js/core/box-vertices-decorator-decorated-dimension-change-listener.js\";\r\nimport Layer from \"./src/js/core/layer\";\r\nimport AreaDefaults from './src/js/core/area-defaults';\r\n// SVG implementation.\r\nimport GeneralPositionChangeListener from \"./src/js/svg/general-position-change-listener.js\";\r\nimport RectanglePositionChangeListener from \"./src/js/svg/rectangle-position-change-listener.js\";\r\nimport DiamondPositionChangeListener from \"./src/js/svg/diamond-position-change-listener.js\";\r\nimport EllipsePositionChangeListener from \"./src/js/svg/ellipse-position-change-listener.js\";\r\nimport ImagePositionChangeListener from \"./src/js/svg/image-position-change-listener.js\";\r\nimport TextPositionChangeListener from \"./src/js/svg/text-position-change-listener.js\";\r\nimport LinePositionChangeListener from \"./src/js/svg/line-position-change-listener.js\";\r\nimport PolyLinePositionChangeListener from \"./src/js/svg/polyline-position-change-listener.js\";\r\nimport CirclePositionChangeListener from \"./src/js/svg/circle-position-change-listener.js\";\r\nimport GeneralDimensionChangeListener from \"./src/js/svg/general-dimension-change-listener.js\";\r\nimport RectangleDimensionChangeListener from \"./src/js/svg/rectangle-dimension-change-listener.js\";\r\nimport DiamondDimensionChangeListener from \"./src/js/svg/diamond-dimension-change-listener.js\";\r\nimport EllipseDimensionChangeListener from \"./src/js/svg/ellipse-dimension-change-listener.js\";\r\nimport ImageDimensionChangeListener from \"./src/js/svg/image-dimension-change-listener.js\";\r\nimport TextDimensionChangeListener from \"./src/js/svg/text-dimension-change-listener.js\";\r\nimport CircleDimensionChangeListener from \"./src/js/svg/circle-dimension-change-listener.js\";\r\nimport LineDimensionChangeListener from \"./src/js/svg/line-dimension-change-listener.js\";\r\nimport PolyLineDimensionChangeListener from \"./src/js/svg/polyline-dimension-change-listener.js\";\r\nimport GeneralRotationChangeListener from \"./src/js/svg/general-rotation-change-listener.js\";\r\nimport VGroupRotationChangeListener from \"./src/js/svg/vgroup-rotation-change-listener.js\";\r\nimport LinearGroupRotationChangeListener from \"./src/js/svg/linear-group-rotation-change-listener.js\";\r\nimport TextChangeListener from \"./src/js/svg/text-change-listener.js\";\r\nimport FontChangeListener from \"./src/js/svg/font-change-listener.js\";\r\nimport StyleChangeListener from \"./src/js/svg/style-change-listener.js\";\r\nimport DefaultDrawer from \"./src/js/svg/default-drawer.js\";\r\nimport LookAndFeel from \"./src/js/svg/look-and-feel.js\";\r\nimport DefaultLookAndFeelFactory from \"./src/js/svg/default-look-and-feel-factory.js\";\r\nimport DefaultCircleDrawer from \"./src/js/svg/default-circle-drawer.js\";\r\nimport DefaultEllipseDrawer from \"./src/js/svg/default-ellipse-drawer.js\";\r\nimport DefaultRectangleDrawer from \"./src/js/svg/default-rectangle-drawer.js\";\r\nimport DefaultDiamondDrawer from \"./src/js/svg/default-diamond-drawer.js\";\r\nimport DefaultTextDrawer from \"./src/js/svg/default-text-drawer.js\";\r\nimport DefaultLineDrawer from \"./src/js/svg/default-line-drawer.js\";\r\nimport DefaultPolyLineDrawer from \"./src/js/svg/default-polyline-drawer.js\";\r\nimport DefaultImageDrawer from \"./src/js/svg/default-image-drawer.js\";\r\nimport DefaultVerticalGroupDrawer from \"./src/js/svg/default-vertical-group-drawer.js\";\r\nimport DefaultLinearGroupDrawer from \"./src/js/svg/default-linear-group-drawer.js\";\r\nimport DefaultBoxVerticesDecoratorDrawer from \"./src/js/svg/default-box-vertices-decorator-drawer.js\";\r\nimport BoxVerticesDecoratorChangeListener from \"./src/js/svg/box-vertices-decorator-change-listener.js\";\r\nimport SVGArea from './src/js/svg/svg-area.js';\r\n\r\nimport Area from './src/js/core/area';\r\n\r\nexport { StylingAttributes, FontStylingAttributes, GroupStylingAttributes, VerticalGroup, SVGArea, Area, Ellipse, BoxVerticesDecorator, GraphicalElement }\r\n// export { A, B, C, D, E, ... }\n\n\n// WEBPACK FOOTER //\n// ./app.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 15/01/2018.\r\n */\r\n\r\n'use strict';\r\n\r\nimport GraphicalElement from \"./graphical-element\";\r\n\r\nexport default class GraphicalElementDecorator extends GraphicalElement {\r\n\r\n    constructor(decorated) {\r\n        super({x: decorated.x, y: decorated.y, width: decorated.width, height: decorated.height});\r\n        this._decorated = decorated;\r\n    }\r\n\r\n    get decorated() {\r\n        return this._decorated;\r\n    }\r\n\r\n    set decorated(value) {\r\n        this._decorated = value;\r\n    }\r\n\r\n    // Delegate.\r\n\r\n    get changeNotificationsEnabled() {\r\n        return this._decorated.changeNotificationsEnabled;\r\n    }\r\n\r\n    get x() {\r\n        return this._decorated.x;\r\n    }\r\n\r\n    set x(value) {\r\n        this._decorated.x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._decorated.y;\r\n    }\r\n\r\n    set y(value) {\r\n        this._decorated.y = value;\r\n    }\r\n\r\n    get width() {\r\n        return this._decorated.width;\r\n    }\r\n\r\n    set width(value) {\r\n        this._decorated.width = value;\r\n    }\r\n\r\n    get minWidth() {\r\n        return this._decorated.minWidth;\r\n    }\r\n\r\n    set minWidth(value) {\r\n        this._decorated.minWidth = value;\r\n    }\r\n\r\n    get height() {\r\n        return this._decorated.height;\r\n    }\r\n\r\n    set height(value) {\r\n        this._decorated.height = value;\r\n    }\r\n\r\n    get minHeight() {\r\n        return this._decorated.minHeight;\r\n    }\r\n\r\n    set minHeight(value) {\r\n        this._decorated.minHeight = value;\r\n    }\r\n\r\n    get rotation() {\r\n        return this._decorated.rotation;\r\n    }\r\n\r\n    set rotation(value) {\r\n        this._decorated.rotation = value;\r\n    }\r\n\r\n    get rotationCenterX() {\r\n        return this._decorated.rotationCenterX;\r\n    }\r\n\r\n    set rotationCenterX(value) {\r\n        this._decorated.rotationCenterX = value;\r\n    }\r\n\r\n    get rotationCenterY() {\r\n        return this._decorated.rotationCenterY;\r\n    }\r\n\r\n    set rotationCenterY(value) {\r\n        this._decorated.rotationCenterY = value;\r\n    }\r\n\r\n    get x2() {\r\n        return this._decorated.x2;\r\n    }\r\n\r\n    set x2(value) {\r\n        this._decorated.x2 = value;\r\n    }\r\n\r\n    get y2() {\r\n        return this._decorated.y2;\r\n    }\r\n\r\n    set y2(value) {\r\n        this._decorated.y2 = value;\r\n    }\r\n\r\n    get stylingAttributes() {\r\n        return this._decorated.stylingAttributes;\r\n    }\r\n\r\n    set stylingAttributes(value) {\r\n        this._decorated.stylingAttributes = value;\r\n    }\r\n\r\n    get borderSize() {\r\n        return this._decorated.borderSize;\r\n    }\r\n\r\n    get id() {\r\n        return this._decorated.id;\r\n    }\r\n\r\n    set id(value) {\r\n        this._decorated.id = value;\r\n    }\r\n\r\n    /*    get drawn() {\r\n            return this._decorated.drawn;\r\n        }\r\n\r\n        set drawn(value) {\r\n            this._decorated.drawn = value;\r\n        }*/\r\n\r\n    get changeListeners() {\r\n        return this._decorated.changeListeners;\r\n    }\r\n\r\n    set changeListeners(value) {\r\n        this._decorated.changeListeners = value;\r\n    }\r\n\r\n    get onClick() {\r\n        return this._decorated.onClick;\r\n    }\r\n\r\n    set onClick(value) {\r\n        this._decorated.onClick = value;\r\n    }\r\n\r\n    get onDblClick() {\r\n        return this._decorated.onDblClick;\r\n    }\r\n\r\n    set onDblClick(value) {\r\n        this._decorated.onDblClick = value;\r\n    }\r\n\r\n    get onMouseDown() {\r\n        return this._decorated.onMouseDown;\r\n    }\r\n\r\n    set onMouseDown(value) {\r\n        this._decorated.onMouseDown = value;\r\n    }\r\n\r\n    get onMouseMove() {\r\n        return this._decorated.onMouseMove;\r\n    }\r\n\r\n    set onMouseMove(value) {\r\n        this._decorated.onMouseMove = value;\r\n    }\r\n\r\n    get onMouseUp() {\r\n        return this._decorated.onMouseUp;\r\n    }\r\n\r\n    set onMouseUp(value) {\r\n        this._decorated.onMouseUp = value;\r\n    }\r\n\r\n    get tag() {\r\n        return this._decorated.tag;\r\n    }\r\n\r\n    set tag(value) {\r\n        this._decorated.tag = value;\r\n    }\r\n\r\n    disableChangeNotifications() {\r\n        this._decorated.disableChangeNotifications();\r\n    }\r\n\r\n    enableChangeNotifications() {\r\n        this._decorated.enableChangeNotifications();\r\n    }\r\n\r\n    boundaryX1For(givenY) {\r\n        return this._decorated.boundaryX1For(givenY);\r\n    }\r\n\r\n    boundaryX2For(givenY) {\r\n        return this._decorated.boundaryX2For(givenY);\r\n    }\r\n\r\n    moveTo(newX, newY) {\r\n        this._decorated.moveLayerTo(newX, newY);\r\n    }\r\n\r\n    resize(newWidth, newHeight) {\r\n        this._decorated.resize(newWidth, newHeight);\r\n    }\r\n\r\n    appearance(json) {\r\n        this._decorated.appearance(json);\r\n    }\r\n\r\n    contentBox(width, height) {\r\n        return this._decorated.contentBox(width, height);\r\n    }\r\n\r\n    widthToFit(boundingBox) {\r\n        return this._decorated.widthToFit(boundingBox);\r\n    }\r\n\r\n    heightToFit(boundingBox) {\r\n        return this._decorated.heightToFit(boundingBox);\r\n    }\r\n\r\n    addChangeListener(value) {\r\n        this._decorated.addChangeListener(value);\r\n    }\r\n\r\n    notifyListeners() {\r\n        this._decorated.notifyListeners();\r\n    }\r\n\r\n    fireOnClick(event) {\r\n        this._decorated.fireOnClick(event);\r\n    }\r\n\r\n    fireOnDblClick(event) {\r\n        this._decorated.fireOnDblClick(event);\r\n    }\r\n\r\n    fireOnMouseDown(event) {\r\n        this._decorated.fireOnMouseDown(event);\r\n    }\r\n\r\n    fireOnMouseMove(event) {\r\n        this._decorated.fireOnMouseMove(event);\r\n    }\r\n\r\n    fireOnMouseUp(event) {\r\n        this._decorated.fireOnMouseUp(event);\r\n    }\r\n\r\n    addTag(key, value) {\r\n        this._decorated.addTag(key, value);\r\n    }\r\n\r\n    countTags() {\r\n        return this._decorated.countTags();\r\n    }\r\n\r\n    getTag(key) {\r\n        return this._decorated.getTag(key);\r\n    }\r\n\r\n    getTagsKeys() {\r\n        return this._decorated.getTagsKeys();\r\n    }\r\n\r\n    removeTag(key) {\r\n        this._decorated.removeTag(key);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/graphical-element-decorator.js","/* JSHint configurations */\r\n/* jshint esversion: 6 */\r\n/* jshint -W097 */\r\n\r\n/**\r\n * Created by Leandro Luque on 09/01/2018.\r\n */\r\n\r\n'use strict';\r\nimport SVGArea from \"../svg/svg-area\";\r\n\r\nexport default class Area {\r\n\r\n    static init(selector = \"#area\") {\r\n        let name = document.querySelector(selector).tagName;\r\n        if (name.toLowerCase() === \"svg\") {\r\n            return new SVGArea(selector);\r\n        } else {\r\n            throw \"Invalid area tag type: \" + name;\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/area.js"],"sourceRoot":""}